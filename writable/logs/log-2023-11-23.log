ERROR - 2023-11-23 11:07:54 --> mysqli_sql_exception: Unknown column 'jenis_mapel' in 'field list' in D:\laragon\www\sim\system\Database\MySQLi\Connection.php:295
Stack trace:
#0 D:\laragon\www\sim\system\Database\MySQLi\Connection.php(295): mysqli->query('INSERT INTO tb_...', 0)
#1 D:\laragon\www\sim\system\Database\BaseConnection.php(692): CodeIgniter\Database\MySQLi\Connection->execute('INSERT INTO tb_...')
#2 D:\laragon\www\sim\system\Database\BaseConnection.php(606): CodeIgniter\Database\BaseConnection->simpleQuery('INSERT INTO tb_...')
#3 D:\laragon\www\sim\app\Models\M_sekolah.php(716): CodeIgniter\Database\BaseConnection->query('INSERT INTO tb_...', Array)
#4 D:\laragon\www\sim\app\Controllers\Admin.php(2005): App\Models\M_sekolah->insert_guru_bk_p5('216', 1, '258')
#5 D:\laragon\www\sim\system\CodeIgniter.php(932): App\Controllers\Admin->simpan_guru_mapel()
#6 D:\laragon\www\sim\system\CodeIgniter.php(497): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Admin))
#7 D:\laragon\www\sim\system\CodeIgniter.php(366): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#8 D:\laragon\www\sim\public\index.php(67): CodeIgniter\CodeIgniter->run()
#9 D:\laragon\www\sim\system\Commands\Server\rewrite.php(47): require_once('D:\\laragon\\www\\...')
#10 {main}
CRITICAL - 2023-11-23 11:07:54 --> Unknown column 'jenis_mapel' in 'field list'
in SYSTEMPATH\Database\MySQLi\Connection.php on line 295.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(295): mysqli->query('INSERT INTO tb_guru_mapel (id_rombel, jenis_mapel, id_guru)
                VALUES (\'216\', 1, \'258\')', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(692): CodeIgniter\Database\MySQLi\Connection->execute('INSERT INTO tb_guru_mapel (id_rombel, jenis_mapel, id_guru)
                VALUES (\'216\', 1, \'258\')')
 3 SYSTEMPATH\Database\BaseConnection.php(606): CodeIgniter\Database\BaseConnection->simpleQuery('INSERT INTO tb_guru_mapel (id_rombel, jenis_mapel, id_guru)
                VALUES (\'216\', 1, \'258\')')
 4 APPPATH\Models\M_sekolah.php(716): CodeIgniter\Database\BaseConnection->query('INSERT INTO tb_guru_mapel (id_rombel, jenis_mapel, id_guru)
                VALUES (:id_rombel:, :jenis_mapel:, :id_guru:)', [...])
 5 APPPATH\Controllers\Admin.php(2005): App\Models\M_sekolah->insert_guru_bk_p5('216', 1, '258')
 6 SYSTEMPATH\CodeIgniter.php(932): App\Controllers\Admin->simpan_guru_mapel()
 7 SYSTEMPATH\CodeIgniter.php(497): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Admin))
 8 SYSTEMPATH\CodeIgniter.php(366): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 9 FCPATH\index.php(67): CodeIgniter\CodeIgniter->run()
10 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\laragon\\www\\sim\\public\\index.php')
ERROR - 2023-11-23 11:08:35 --> mysqli_sql_exception: Unknown column 'jenis_mapel' in 'field list' in D:\laragon\www\sim\system\Database\MySQLi\Connection.php:295
Stack trace:
#0 D:\laragon\www\sim\system\Database\MySQLi\Connection.php(295): mysqli->query('INSERT INTO tb_...', 0)
#1 D:\laragon\www\sim\system\Database\BaseConnection.php(692): CodeIgniter\Database\MySQLi\Connection->execute('INSERT INTO tb_...')
#2 D:\laragon\www\sim\system\Database\BaseConnection.php(606): CodeIgniter\Database\BaseConnection->simpleQuery('INSERT INTO tb_...')
#3 D:\laragon\www\sim\app\Models\M_sekolah.php(716): CodeIgniter\Database\BaseConnection->query('INSERT INTO tb_...', Array)
#4 D:\laragon\www\sim\app\Controllers\Admin.php(2005): App\Models\M_sekolah->insert_guru_bk_p5('216', 1, '258')
#5 D:\laragon\www\sim\system\CodeIgniter.php(932): App\Controllers\Admin->simpan_guru_mapel()
#6 D:\laragon\www\sim\system\CodeIgniter.php(497): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Admin))
#7 D:\laragon\www\sim\system\CodeIgniter.php(366): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#8 D:\laragon\www\sim\public\index.php(67): CodeIgniter\CodeIgniter->run()
#9 D:\laragon\www\sim\system\Commands\Server\rewrite.php(47): require_once('D:\\laragon\\www\\...')
#10 {main}
CRITICAL - 2023-11-23 11:08:35 --> Unknown column 'jenis_mapel' in 'field list'
in SYSTEMPATH\Database\MySQLi\Connection.php on line 295.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(295): mysqli->query('INSERT INTO tb_guru_mapel (id_rombel, jenis_mapel, id_guru)
                VALUES (\'216\', 1, \'258\')', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(692): CodeIgniter\Database\MySQLi\Connection->execute('INSERT INTO tb_guru_mapel (id_rombel, jenis_mapel, id_guru)
                VALUES (\'216\', 1, \'258\')')
 3 SYSTEMPATH\Database\BaseConnection.php(606): CodeIgniter\Database\BaseConnection->simpleQuery('INSERT INTO tb_guru_mapel (id_rombel, jenis_mapel, id_guru)
                VALUES (\'216\', 1, \'258\')')
 4 APPPATH\Models\M_sekolah.php(716): CodeIgniter\Database\BaseConnection->query('INSERT INTO tb_guru_mapel (id_rombel, jenis_mapel, id_guru)
                VALUES (:id_rombel:, :jenis_mapel:, :id_guru:)', [...])
 5 APPPATH\Controllers\Admin.php(2005): App\Models\M_sekolah->insert_guru_bk_p5('216', 1, '258')
 6 SYSTEMPATH\CodeIgniter.php(932): App\Controllers\Admin->simpan_guru_mapel()
 7 SYSTEMPATH\CodeIgniter.php(497): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Admin))
 8 SYSTEMPATH\CodeIgniter.php(366): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 9 FCPATH\index.php(67): CodeIgniter\CodeIgniter->run()
10 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\laragon\\www\\sim\\public\\index.php')
ERROR - 2023-11-23 11:18:05 --> mysqli_sql_exception: Incorrect usage of UNION and ORDER BY in D:\laragon\www\sim\system\Database\MySQLi\Connection.php:295
Stack trace:
#0 D:\laragon\www\sim\system\Database\MySQLi\Connection.php(295): mysqli->query('SELECT GROUP_CO...', 0)
#1 D:\laragon\www\sim\system\Database\BaseConnection.php(692): CodeIgniter\Database\MySQLi\Connection->execute('SELECT GROUP_CO...')
#2 D:\laragon\www\sim\system\Database\BaseConnection.php(606): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT GROUP_CO...')
#3 D:\laragon\www\sim\app\Models\M_user.php(223): CodeIgniter\Database\BaseConnection->query('SELECT GROUP_CO...', Array)
#4 D:\laragon\www\sim\app\Controllers\Admin.php(1967): App\Models\M_user->get_daftar_guru_mapel('5d784c9e-f35a-4...')
#5 D:\laragon\www\sim\system\CodeIgniter.php(932): App\Controllers\Admin->guru_mapel()
#6 D:\laragon\www\sim\system\CodeIgniter.php(497): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Admin))
#7 D:\laragon\www\sim\system\CodeIgniter.php(366): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#8 D:\laragon\www\sim\public\index.php(67): CodeIgniter\CodeIgniter->run()
#9 D:\laragon\www\sim\system\Commands\Server\rewrite.php(47): require_once('D:\\laragon\\www\\...')
#10 {main}
CRITICAL - 2023-11-23 11:18:05 --> Incorrect usage of UNION and ORDER BY
in SYSTEMPATH\Database\MySQLi\Connection.php on line 295.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(295): mysqli->query('SELECT GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, nama_mapel, nama, tr.kelas
                FROM tb_rombel tr
                LEFT JOIN tb_guru_mapel gm ON tr.id = gm.id_rombel
                LEFT JOIN tb_mapel tm ON tm.id = gm.id_mapel
                LEFT JOIN tb_guru_sekolah gs ON gs.id = gm.id_guru
                LEFT JOIN tb_guru tg ON tg.nuptk = gs.nuptk
                WHERE tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
                GROUP BY nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
                ORDER BY tr.kelas, tm.nama_mapel, nama_rombel, tg.nama, tm.jenis, tm.sub_kelas
                UNION 
                SELECT GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, nama_mapel, nama, tr.kelas
                FROM tb_rombel tr
                LEFT JOIN tb_guru_mapel gm ON tr.id = gm.id_rombel
                LEFT JOIN tb_mapel tm ON tm.id = gm.id_mapel
                LEFT JOIN tb_guru_sekolah gs ON gs.id = gm.id_guru
                LEFT JOIN tb_guru tg ON tg.nuptk = gs.nuptk
                WHERE tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
                GROUP BY nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
                ORDER BY tr.kelas, tm.nama_mapel, nama_rombel, tg.nama, tm.jenis, tm.sub_kelas
                ', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(692): CodeIgniter\Database\MySQLi\Connection->execute('SELECT GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, nama_mapel, nama, tr.kelas
                FROM tb_rombel tr
                LEFT JOIN tb_guru_mapel gm ON tr.id = gm.id_rombel
                LEFT JOIN tb_mapel tm ON tm.id = gm.id_mapel
                LEFT JOIN tb_guru_sekolah gs ON gs.id = gm.id_guru
                LEFT JOIN tb_guru tg ON tg.nuptk = gs.nuptk
                WHERE tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
                GROUP BY nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
                ORDER BY tr.kelas, tm.nama_mapel, nama_rombel, tg.nama, tm.jenis, tm.sub_kelas
                UNION 
                SELECT GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, nama_mapel, nama, tr.kelas
                FROM tb_rombel tr
                LEFT JOIN tb_guru_mapel gm ON tr.id = gm.id_rombel
                LEFT JOIN tb_mapel tm ON tm.id = gm.id_mapel
                LEFT JOIN tb_guru_sekolah gs ON gs.id = gm.id_guru
                LEFT JOIN tb_guru tg ON tg.nuptk = gs.nuptk
                WHERE tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
                GROUP BY nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
                ORDER BY tr.kelas, tm.nama_mapel, nama_rombel, tg.nama, tm.jenis, tm.sub_kelas
                ')
 3 SYSTEMPATH\Database\BaseConnection.php(606): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, nama_mapel, nama, tr.kelas
                FROM tb_rombel tr
                LEFT JOIN tb_guru_mapel gm ON tr.id = gm.id_rombel
                LEFT JOIN tb_mapel tm ON tm.id = gm.id_mapel
                LEFT JOIN tb_guru_sekolah gs ON gs.id = gm.id_guru
                LEFT JOIN tb_guru tg ON tg.nuptk = gs.nuptk
                WHERE tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
                GROUP BY nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
                ORDER BY tr.kelas, tm.nama_mapel, nama_rombel, tg.nama, tm.jenis, tm.sub_kelas
                UNION 
                SELECT GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, nama_mapel, nama, tr.kelas
                FROM tb_rombel tr
                LEFT JOIN tb_guru_mapel gm ON tr.id = gm.id_rombel
                LEFT JOIN tb_mapel tm ON tm.id = gm.id_mapel
                LEFT JOIN tb_guru_sekolah gs ON gs.id = gm.id_guru
                LEFT JOIN tb_guru tg ON tg.nuptk = gs.nuptk
                WHERE tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
                GROUP BY nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
                ORDER BY tr.kelas, tm.nama_mapel, nama_rombel, tg.nama, tm.jenis, tm.sub_kelas
                ')
 4 APPPATH\Models\M_user.php(223): CodeIgniter\Database\BaseConnection->query('SELECT GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, nama_mapel, nama, tr.kelas
                FROM tb_rombel tr
                LEFT JOIN tb_guru_mapel gm ON tr.id = gm.id_rombel
                LEFT JOIN tb_mapel tm ON tm.id = gm.id_mapel
                LEFT JOIN tb_guru_sekolah gs ON gs.id = gm.id_guru
                LEFT JOIN tb_guru tg ON tg.nuptk = gs.nuptk
                WHERE tr.id_sekolah = :id_sekolah: AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
                GROUP BY nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
                ORDER BY tr.kelas, tm.nama_mapel, nama_rombel, tg.nama, tm.jenis, tm.sub_kelas
                UNION 
                SELECT GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, nama_mapel, nama, tr.kelas
                FROM tb_rombel tr
                LEFT JOIN tb_guru_mapel gm ON tr.id = gm.id_rombel
                LEFT JOIN tb_mapel tm ON tm.id = gm.id_mapel
                LEFT JOIN tb_guru_sekolah gs ON gs.id = gm.id_guru
                LEFT JOIN tb_guru tg ON tg.nuptk = gs.nuptk
                WHERE tr.id_sekolah = :id_sekolah: AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
                GROUP BY nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
                ORDER BY tr.kelas, tm.nama_mapel, nama_rombel, tg.nama, tm.jenis, tm.sub_kelas
                ', [...])
 5 APPPATH\Controllers\Admin.php(1967): App\Models\M_user->get_daftar_guru_mapel('5d784c9e-f35a-4654-9851-b94d22be6f1e')
 6 SYSTEMPATH\CodeIgniter.php(932): App\Controllers\Admin->guru_mapel()
 7 SYSTEMPATH\CodeIgniter.php(497): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Admin))
 8 SYSTEMPATH\CodeIgniter.php(366): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 9 FCPATH\index.php(67): CodeIgniter\CodeIgniter->run()
10 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\laragon\\www\\sim\\public\\index.php')
ERROR - 2023-11-23 11:18:20 --> mysqli_sql_exception: Table 'tr' from one of the SELECTs cannot be used in field list in D:\laragon\www\sim\system\Database\MySQLi\Connection.php:295
Stack trace:
#0 D:\laragon\www\sim\system\Database\MySQLi\Connection.php(295): mysqli->query('SELECT GROUP_CO...', 0)
#1 D:\laragon\www\sim\system\Database\BaseConnection.php(692): CodeIgniter\Database\MySQLi\Connection->execute('SELECT GROUP_CO...')
#2 D:\laragon\www\sim\system\Database\BaseConnection.php(606): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT GROUP_CO...')
#3 D:\laragon\www\sim\app\Models\M_user.php(221): CodeIgniter\Database\BaseConnection->query('SELECT GROUP_CO...', Array)
#4 D:\laragon\www\sim\app\Controllers\Admin.php(1967): App\Models\M_user->get_daftar_guru_mapel('5d784c9e-f35a-4...')
#5 D:\laragon\www\sim\system\CodeIgniter.php(932): App\Controllers\Admin->guru_mapel()
#6 D:\laragon\www\sim\system\CodeIgniter.php(497): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Admin))
#7 D:\laragon\www\sim\system\CodeIgniter.php(366): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#8 D:\laragon\www\sim\public\index.php(67): CodeIgniter\CodeIgniter->run()
#9 D:\laragon\www\sim\system\Commands\Server\rewrite.php(47): require_once('D:\\laragon\\www\\...')
#10 {main}
CRITICAL - 2023-11-23 11:18:20 --> Table 'tr' from one of the SELECTs cannot be used in field list
in SYSTEMPATH\Database\MySQLi\Connection.php on line 295.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(295): mysqli->query('SELECT GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, nama_mapel, nama, tr.kelas
                FROM tb_rombel tr
                LEFT JOIN tb_guru_mapel gm ON tr.id = gm.id_rombel
                LEFT JOIN tb_mapel tm ON tm.id = gm.id_mapel
                LEFT JOIN tb_guru_sekolah gs ON gs.id = gm.id_guru
                LEFT JOIN tb_guru tg ON tg.nuptk = gs.nuptk
                WHERE tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
                UNION 
                SELECT GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, nama_mapel, nama, tr.kelas
                FROM tb_rombel tr
                LEFT JOIN tb_guru_mapel gm ON tr.id = gm.id_rombel
                LEFT JOIN tb_mapel tm ON tm.id = gm.id_mapel
                LEFT JOIN tb_guru_sekolah gs ON gs.id = gm.id_guru
                LEFT JOIN tb_guru tg ON tg.nuptk = gs.nuptk
                WHERE tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
                GROUP BY nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
                ORDER BY tr.kelas, tm.nama_mapel, nama_rombel, tg.nama, tm.jenis, tm.sub_kelas
                ', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(692): CodeIgniter\Database\MySQLi\Connection->execute('SELECT GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, nama_mapel, nama, tr.kelas
                FROM tb_rombel tr
                LEFT JOIN tb_guru_mapel gm ON tr.id = gm.id_rombel
                LEFT JOIN tb_mapel tm ON tm.id = gm.id_mapel
                LEFT JOIN tb_guru_sekolah gs ON gs.id = gm.id_guru
                LEFT JOIN tb_guru tg ON tg.nuptk = gs.nuptk
                WHERE tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
                UNION 
                SELECT GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, nama_mapel, nama, tr.kelas
                FROM tb_rombel tr
                LEFT JOIN tb_guru_mapel gm ON tr.id = gm.id_rombel
                LEFT JOIN tb_mapel tm ON tm.id = gm.id_mapel
                LEFT JOIN tb_guru_sekolah gs ON gs.id = gm.id_guru
                LEFT JOIN tb_guru tg ON tg.nuptk = gs.nuptk
                WHERE tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
                GROUP BY nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
                ORDER BY tr.kelas, tm.nama_mapel, nama_rombel, tg.nama, tm.jenis, tm.sub_kelas
                ')
 3 SYSTEMPATH\Database\BaseConnection.php(606): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, nama_mapel, nama, tr.kelas
                FROM tb_rombel tr
                LEFT JOIN tb_guru_mapel gm ON tr.id = gm.id_rombel
                LEFT JOIN tb_mapel tm ON tm.id = gm.id_mapel
                LEFT JOIN tb_guru_sekolah gs ON gs.id = gm.id_guru
                LEFT JOIN tb_guru tg ON tg.nuptk = gs.nuptk
                WHERE tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
                UNION 
                SELECT GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, nama_mapel, nama, tr.kelas
                FROM tb_rombel tr
                LEFT JOIN tb_guru_mapel gm ON tr.id = gm.id_rombel
                LEFT JOIN tb_mapel tm ON tm.id = gm.id_mapel
                LEFT JOIN tb_guru_sekolah gs ON gs.id = gm.id_guru
                LEFT JOIN tb_guru tg ON tg.nuptk = gs.nuptk
                WHERE tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
                GROUP BY nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
                ORDER BY tr.kelas, tm.nama_mapel, nama_rombel, tg.nama, tm.jenis, tm.sub_kelas
                ')
 4 APPPATH\Models\M_user.php(221): CodeIgniter\Database\BaseConnection->query('SELECT GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, nama_mapel, nama, tr.kelas
                FROM tb_rombel tr
                LEFT JOIN tb_guru_mapel gm ON tr.id = gm.id_rombel
                LEFT JOIN tb_mapel tm ON tm.id = gm.id_mapel
                LEFT JOIN tb_guru_sekolah gs ON gs.id = gm.id_guru
                LEFT JOIN tb_guru tg ON tg.nuptk = gs.nuptk
                WHERE tr.id_sekolah = :id_sekolah: AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
                UNION 
                SELECT GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, nama_mapel, nama, tr.kelas
                FROM tb_rombel tr
                LEFT JOIN tb_guru_mapel gm ON tr.id = gm.id_rombel
                LEFT JOIN tb_mapel tm ON tm.id = gm.id_mapel
                LEFT JOIN tb_guru_sekolah gs ON gs.id = gm.id_guru
                LEFT JOIN tb_guru tg ON tg.nuptk = gs.nuptk
                WHERE tr.id_sekolah = :id_sekolah: AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
                GROUP BY nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
                ORDER BY tr.kelas, tm.nama_mapel, nama_rombel, tg.nama, tm.jenis, tm.sub_kelas
                ', [...])
 5 APPPATH\Controllers\Admin.php(1967): App\Models\M_user->get_daftar_guru_mapel('5d784c9e-f35a-4654-9851-b94d22be6f1e')
 6 SYSTEMPATH\CodeIgniter.php(932): App\Controllers\Admin->guru_mapel()
 7 SYSTEMPATH\CodeIgniter.php(497): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Admin))
 8 SYSTEMPATH\CodeIgniter.php(366): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 9 FCPATH\index.php(67): CodeIgniter\CodeIgniter->run()
10 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\laragon\\www\\sim\\public\\index.php')
INFO - 2023-11-23 11:18:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2023-11-23 11:18:51 --> mysqli_sql_exception: Incorrect usage of UNION and ORDER BY in D:\laragon\www\sim\system\Database\MySQLi\Connection.php:295
Stack trace:
#0 D:\laragon\www\sim\system\Database\MySQLi\Connection.php(295): mysqli->query('SELECT GROUP_CO...', 0)
#1 D:\laragon\www\sim\system\Database\BaseConnection.php(692): CodeIgniter\Database\MySQLi\Connection->execute('SELECT GROUP_CO...')
#2 D:\laragon\www\sim\system\Database\BaseConnection.php(606): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT GROUP_CO...')
#3 D:\laragon\www\sim\app\Models\M_user.php(223): CodeIgniter\Database\BaseConnection->query('SELECT GROUP_CO...', Array)
#4 D:\laragon\www\sim\app\Controllers\Admin.php(1967): App\Models\M_user->get_daftar_guru_mapel('5d784c9e-f35a-4...')
#5 D:\laragon\www\sim\system\CodeIgniter.php(932): App\Controllers\Admin->guru_mapel()
#6 D:\laragon\www\sim\system\CodeIgniter.php(497): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Admin))
#7 D:\laragon\www\sim\system\CodeIgniter.php(366): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#8 D:\laragon\www\sim\public\index.php(67): CodeIgniter\CodeIgniter->run()
#9 D:\laragon\www\sim\system\Commands\Server\rewrite.php(47): require_once('D:\\laragon\\www\\...')
#10 {main}
CRITICAL - 2023-11-23 11:18:51 --> Incorrect usage of UNION and ORDER BY
in SYSTEMPATH\Database\MySQLi\Connection.php on line 295.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(295): mysqli->query('SELECT GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, nama_mapel, nama, tr.kelas
                FROM tb_rombel tr
                LEFT JOIN tb_guru_mapel gm ON tr.id = gm.id_rombel
                LEFT JOIN tb_mapel tm ON tm.id = gm.id_mapel
                LEFT JOIN tb_guru_sekolah gs ON gs.id = gm.id_guru
                LEFT JOIN tb_guru tg ON tg.nuptk = gs.nuptk
                WHERE tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
                GROUP BY nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
                ORDER BY tr.kelas, tm.nama_mapel, nama_rombel, tg.nama, tm.jenis, tm.sub_kelas
                UNION 
                SELECT GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, nama_mapel, nama, tr.kelas
                FROM tb_rombel tr
                LEFT JOIN tb_guru_mapel gm ON tr.id = gm.id_rombel
                LEFT JOIN tb_mapel tm ON tm.id = gm.id_mapel
                LEFT JOIN tb_guru_sekolah gs ON gs.id = gm.id_guru
                LEFT JOIN tb_guru tg ON tg.nuptk = gs.nuptk
                WHERE tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
                GROUP BY nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
                ORDER BY tr.kelas, tm.nama_mapel, nama_rombel, tg.nama, tm.jenis, tm.sub_kelas
                ', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(692): CodeIgniter\Database\MySQLi\Connection->execute('SELECT GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, nama_mapel, nama, tr.kelas
                FROM tb_rombel tr
                LEFT JOIN tb_guru_mapel gm ON tr.id = gm.id_rombel
                LEFT JOIN tb_mapel tm ON tm.id = gm.id_mapel
                LEFT JOIN tb_guru_sekolah gs ON gs.id = gm.id_guru
                LEFT JOIN tb_guru tg ON tg.nuptk = gs.nuptk
                WHERE tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
                GROUP BY nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
                ORDER BY tr.kelas, tm.nama_mapel, nama_rombel, tg.nama, tm.jenis, tm.sub_kelas
                UNION 
                SELECT GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, nama_mapel, nama, tr.kelas
                FROM tb_rombel tr
                LEFT JOIN tb_guru_mapel gm ON tr.id = gm.id_rombel
                LEFT JOIN tb_mapel tm ON tm.id = gm.id_mapel
                LEFT JOIN tb_guru_sekolah gs ON gs.id = gm.id_guru
                LEFT JOIN tb_guru tg ON tg.nuptk = gs.nuptk
                WHERE tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
                GROUP BY nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
                ORDER BY tr.kelas, tm.nama_mapel, nama_rombel, tg.nama, tm.jenis, tm.sub_kelas
                ')
 3 SYSTEMPATH\Database\BaseConnection.php(606): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, nama_mapel, nama, tr.kelas
                FROM tb_rombel tr
                LEFT JOIN tb_guru_mapel gm ON tr.id = gm.id_rombel
                LEFT JOIN tb_mapel tm ON tm.id = gm.id_mapel
                LEFT JOIN tb_guru_sekolah gs ON gs.id = gm.id_guru
                LEFT JOIN tb_guru tg ON tg.nuptk = gs.nuptk
                WHERE tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
                GROUP BY nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
                ORDER BY tr.kelas, tm.nama_mapel, nama_rombel, tg.nama, tm.jenis, tm.sub_kelas
                UNION 
                SELECT GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, nama_mapel, nama, tr.kelas
                FROM tb_rombel tr
                LEFT JOIN tb_guru_mapel gm ON tr.id = gm.id_rombel
                LEFT JOIN tb_mapel tm ON tm.id = gm.id_mapel
                LEFT JOIN tb_guru_sekolah gs ON gs.id = gm.id_guru
                LEFT JOIN tb_guru tg ON tg.nuptk = gs.nuptk
                WHERE tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
                GROUP BY nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
                ORDER BY tr.kelas, tm.nama_mapel, nama_rombel, tg.nama, tm.jenis, tm.sub_kelas
                ')
 4 APPPATH\Models\M_user.php(223): CodeIgniter\Database\BaseConnection->query('SELECT GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, nama_mapel, nama, tr.kelas
                FROM tb_rombel tr
                LEFT JOIN tb_guru_mapel gm ON tr.id = gm.id_rombel
                LEFT JOIN tb_mapel tm ON tm.id = gm.id_mapel
                LEFT JOIN tb_guru_sekolah gs ON gs.id = gm.id_guru
                LEFT JOIN tb_guru tg ON tg.nuptk = gs.nuptk
                WHERE tr.id_sekolah = :id_sekolah: AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
                GROUP BY nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
                ORDER BY tr.kelas, tm.nama_mapel, nama_rombel, tg.nama, tm.jenis, tm.sub_kelas
                UNION 
                SELECT GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, nama_mapel, nama, tr.kelas
                FROM tb_rombel tr
                LEFT JOIN tb_guru_mapel gm ON tr.id = gm.id_rombel
                LEFT JOIN tb_mapel tm ON tm.id = gm.id_mapel
                LEFT JOIN tb_guru_sekolah gs ON gs.id = gm.id_guru
                LEFT JOIN tb_guru tg ON tg.nuptk = gs.nuptk
                WHERE tr.id_sekolah = :id_sekolah: AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
                GROUP BY nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
                ORDER BY tr.kelas, tm.nama_mapel, nama_rombel, tg.nama, tm.jenis, tm.sub_kelas
                ', [...])
 5 APPPATH\Controllers\Admin.php(1967): App\Models\M_user->get_daftar_guru_mapel('5d784c9e-f35a-4654-9851-b94d22be6f1e')
 6 SYSTEMPATH\CodeIgniter.php(932): App\Controllers\Admin->guru_mapel()
 7 SYSTEMPATH\CodeIgniter.php(497): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Admin))
 8 SYSTEMPATH\CodeIgniter.php(366): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 9 FCPATH\index.php(67): CodeIgniter\CodeIgniter->run()
10 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\laragon\\www\\sim\\public\\index.php')
INFO - 2023-11-23 11:19:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2023-11-23 11:19:09 --> mysqli_sql_exception: Table 'tr' from one of the SELECTs cannot be used in field list in D:\laragon\www\sim\system\Database\MySQLi\Connection.php:295
Stack trace:
#0 D:\laragon\www\sim\system\Database\MySQLi\Connection.php(295): mysqli->query('SELECT GROUP_CO...', 0)
#1 D:\laragon\www\sim\system\Database\BaseConnection.php(692): CodeIgniter\Database\MySQLi\Connection->execute('SELECT GROUP_CO...')
#2 D:\laragon\www\sim\system\Database\BaseConnection.php(606): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT GROUP_CO...')
#3 D:\laragon\www\sim\app\Models\M_user.php(222): CodeIgniter\Database\BaseConnection->query('SELECT GROUP_CO...', Array)
#4 D:\laragon\www\sim\app\Controllers\Admin.php(1967): App\Models\M_user->get_daftar_guru_mapel('5d784c9e-f35a-4...')
#5 D:\laragon\www\sim\system\CodeIgniter.php(932): App\Controllers\Admin->guru_mapel()
#6 D:\laragon\www\sim\system\CodeIgniter.php(497): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Admin))
#7 D:\laragon\www\sim\system\CodeIgniter.php(366): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#8 D:\laragon\www\sim\public\index.php(67): CodeIgniter\CodeIgniter->run()
#9 D:\laragon\www\sim\system\Commands\Server\rewrite.php(47): require_once('D:\\laragon\\www\\...')
#10 {main}
CRITICAL - 2023-11-23 11:19:09 --> Table 'tr' from one of the SELECTs cannot be used in field list
in SYSTEMPATH\Database\MySQLi\Connection.php on line 295.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(295): mysqli->query('SELECT GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, nama_mapel, nama, tr.kelas
                FROM tb_rombel tr
                LEFT JOIN tb_guru_mapel gm ON tr.id = gm.id_rombel
                LEFT JOIN tb_mapel tm ON tm.id = gm.id_mapel
                LEFT JOIN tb_guru_sekolah gs ON gs.id = gm.id_guru
                LEFT JOIN tb_guru tg ON tg.nuptk = gs.nuptk
                WHERE tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
                GROUP BY nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
                UNION 
                SELECT GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, nama_mapel, nama, tr.kelas
                FROM tb_rombel tr
                LEFT JOIN tb_guru_mapel gm ON tr.id = gm.id_rombel
                LEFT JOIN tb_mapel tm ON tm.id = gm.id_mapel
                LEFT JOIN tb_guru_sekolah gs ON gs.id = gm.id_guru
                LEFT JOIN tb_guru tg ON tg.nuptk = gs.nuptk
                WHERE tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
                GROUP BY nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
                ORDER BY tr.kelas, tm.nama_mapel, nama_rombel, tg.nama, tm.jenis, tm.sub_kelas
                ', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(692): CodeIgniter\Database\MySQLi\Connection->execute('SELECT GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, nama_mapel, nama, tr.kelas
                FROM tb_rombel tr
                LEFT JOIN tb_guru_mapel gm ON tr.id = gm.id_rombel
                LEFT JOIN tb_mapel tm ON tm.id = gm.id_mapel
                LEFT JOIN tb_guru_sekolah gs ON gs.id = gm.id_guru
                LEFT JOIN tb_guru tg ON tg.nuptk = gs.nuptk
                WHERE tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
                GROUP BY nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
                UNION 
                SELECT GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, nama_mapel, nama, tr.kelas
                FROM tb_rombel tr
                LEFT JOIN tb_guru_mapel gm ON tr.id = gm.id_rombel
                LEFT JOIN tb_mapel tm ON tm.id = gm.id_mapel
                LEFT JOIN tb_guru_sekolah gs ON gs.id = gm.id_guru
                LEFT JOIN tb_guru tg ON tg.nuptk = gs.nuptk
                WHERE tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
                GROUP BY nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
                ORDER BY tr.kelas, tm.nama_mapel, nama_rombel, tg.nama, tm.jenis, tm.sub_kelas
                ')
 3 SYSTEMPATH\Database\BaseConnection.php(606): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, nama_mapel, nama, tr.kelas
                FROM tb_rombel tr
                LEFT JOIN tb_guru_mapel gm ON tr.id = gm.id_rombel
                LEFT JOIN tb_mapel tm ON tm.id = gm.id_mapel
                LEFT JOIN tb_guru_sekolah gs ON gs.id = gm.id_guru
                LEFT JOIN tb_guru tg ON tg.nuptk = gs.nuptk
                WHERE tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
                GROUP BY nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
                UNION 
                SELECT GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, nama_mapel, nama, tr.kelas
                FROM tb_rombel tr
                LEFT JOIN tb_guru_mapel gm ON tr.id = gm.id_rombel
                LEFT JOIN tb_mapel tm ON tm.id = gm.id_mapel
                LEFT JOIN tb_guru_sekolah gs ON gs.id = gm.id_guru
                LEFT JOIN tb_guru tg ON tg.nuptk = gs.nuptk
                WHERE tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
                GROUP BY nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
                ORDER BY tr.kelas, tm.nama_mapel, nama_rombel, tg.nama, tm.jenis, tm.sub_kelas
                ')
 4 APPPATH\Models\M_user.php(222): CodeIgniter\Database\BaseConnection->query('SELECT GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, nama_mapel, nama, tr.kelas
                FROM tb_rombel tr
                LEFT JOIN tb_guru_mapel gm ON tr.id = gm.id_rombel
                LEFT JOIN tb_mapel tm ON tm.id = gm.id_mapel
                LEFT JOIN tb_guru_sekolah gs ON gs.id = gm.id_guru
                LEFT JOIN tb_guru tg ON tg.nuptk = gs.nuptk
                WHERE tr.id_sekolah = :id_sekolah: AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
                GROUP BY nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
                UNION 
                SELECT GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, nama_mapel, nama, tr.kelas
                FROM tb_rombel tr
                LEFT JOIN tb_guru_mapel gm ON tr.id = gm.id_rombel
                LEFT JOIN tb_mapel tm ON tm.id = gm.id_mapel
                LEFT JOIN tb_guru_sekolah gs ON gs.id = gm.id_guru
                LEFT JOIN tb_guru tg ON tg.nuptk = gs.nuptk
                WHERE tr.id_sekolah = :id_sekolah: AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
                GROUP BY nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
                ORDER BY tr.kelas, tm.nama_mapel, nama_rombel, tg.nama, tm.jenis, tm.sub_kelas
                ', [...])
 5 APPPATH\Controllers\Admin.php(1967): App\Models\M_user->get_daftar_guru_mapel('5d784c9e-f35a-4654-9851-b94d22be6f1e')
 6 SYSTEMPATH\CodeIgniter.php(932): App\Controllers\Admin->guru_mapel()
 7 SYSTEMPATH\CodeIgniter.php(497): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Admin))
 8 SYSTEMPATH\CodeIgniter.php(366): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 9 FCPATH\index.php(67): CodeIgniter\CodeIgniter->run()
10 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\laragon\\www\\sim\\public\\index.php')
INFO - 2023-11-23 11:23:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2023-11-23 11:23:11 --> mysqli_sql_exception: Incorrect usage of UNION and ORDER BY in D:\laragon\www\sim\system\Database\MySQLi\Connection.php:295
Stack trace:
#0 D:\laragon\www\sim\system\Database\MySQLi\Connection.php(295): mysqli->query('SELECT \n    GRO...', 0)
#1 D:\laragon\www\sim\system\Database\BaseConnection.php(692): CodeIgniter\Database\MySQLi\Connection->execute('SELECT \n    GRO...')
#2 D:\laragon\www\sim\system\Database\BaseConnection.php(606): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT \n    GRO...')
#3 D:\laragon\www\sim\app\Models\M_user.php(249): CodeIgniter\Database\BaseConnection->query('SELECT \n    GRO...', Array)
#4 D:\laragon\www\sim\app\Controllers\Admin.php(1967): App\Models\M_user->get_daftar_guru_mapel('5d784c9e-f35a-4...')
#5 D:\laragon\www\sim\system\CodeIgniter.php(932): App\Controllers\Admin->guru_mapel()
#6 D:\laragon\www\sim\system\CodeIgniter.php(497): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Admin))
#7 D:\laragon\www\sim\system\CodeIgniter.php(366): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#8 D:\laragon\www\sim\public\index.php(67): CodeIgniter\CodeIgniter->run()
#9 D:\laragon\www\sim\system\Commands\Server\rewrite.php(47): require_once('D:\\laragon\\www\\...')
#10 {main}
CRITICAL - 2023-11-23 11:23:11 --> Incorrect usage of UNION and ORDER BY
in SYSTEMPATH\Database\MySQLi\Connection.php on line 295.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(295): mysqli->query('SELECT 
    GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
    nama_mapel, 
    nama, 
    tr.kelas
FROM 
    tb_rombel tr
LEFT JOIN 
    tb_guru_mapel gm ON tr.id = gm.id_rombel
LEFT JOIN 
    tb_mapel tm ON tm.id = gm.id_mapel
LEFT JOIN 
    tb_guru_sekolah gs ON gs.id = gm.id_guru
LEFT JOIN 
    tb_guru tg ON tg.nuptk = gs.nuptk
WHERE 
    tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
GROUP BY 
    nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
ORDER BY 
    tr.kelas, tm.nama_mapel, nama_rombel, tg.nama, tm.jenis, tm.sub_kelas

UNION

SELECT 
    GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
    nama_mapel, 
    nama, 
    tr.kelas
FROM 
    tb_rombel tr
LEFT JOIN 
    tb_guru_lain gl ON tr.id = gl.id_rombel
LEFT JOIN 
    tb_mapel tm ON tm.id = gl.id_mapel
LEFT JOIN 
    tb_guru_sekolah gs ON gs.id = gl.id_guru
LEFT JOIN 
    tb_guru tg ON tg.nuptk = gs.nuptk
WHERE 
    tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
GROUP BY 
    nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
ORDER BY 
    tr.kelas, tm.nama_mapel, nama_rombel, tg.nama, tm.jenis, tm.sub_kelas
', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(692): CodeIgniter\Database\MySQLi\Connection->execute('SELECT 
    GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
    nama_mapel, 
    nama, 
    tr.kelas
FROM 
    tb_rombel tr
LEFT JOIN 
    tb_guru_mapel gm ON tr.id = gm.id_rombel
LEFT JOIN 
    tb_mapel tm ON tm.id = gm.id_mapel
LEFT JOIN 
    tb_guru_sekolah gs ON gs.id = gm.id_guru
LEFT JOIN 
    tb_guru tg ON tg.nuptk = gs.nuptk
WHERE 
    tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
GROUP BY 
    nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
ORDER BY 
    tr.kelas, tm.nama_mapel, nama_rombel, tg.nama, tm.jenis, tm.sub_kelas

UNION

SELECT 
    GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
    nama_mapel, 
    nama, 
    tr.kelas
FROM 
    tb_rombel tr
LEFT JOIN 
    tb_guru_lain gl ON tr.id = gl.id_rombel
LEFT JOIN 
    tb_mapel tm ON tm.id = gl.id_mapel
LEFT JOIN 
    tb_guru_sekolah gs ON gs.id = gl.id_guru
LEFT JOIN 
    tb_guru tg ON tg.nuptk = gs.nuptk
WHERE 
    tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
GROUP BY 
    nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
ORDER BY 
    tr.kelas, tm.nama_mapel, nama_rombel, tg.nama, tm.jenis, tm.sub_kelas
')
 3 SYSTEMPATH\Database\BaseConnection.php(606): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT 
    GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
    nama_mapel, 
    nama, 
    tr.kelas
FROM 
    tb_rombel tr
LEFT JOIN 
    tb_guru_mapel gm ON tr.id = gm.id_rombel
LEFT JOIN 
    tb_mapel tm ON tm.id = gm.id_mapel
LEFT JOIN 
    tb_guru_sekolah gs ON gs.id = gm.id_guru
LEFT JOIN 
    tb_guru tg ON tg.nuptk = gs.nuptk
WHERE 
    tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
GROUP BY 
    nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
ORDER BY 
    tr.kelas, tm.nama_mapel, nama_rombel, tg.nama, tm.jenis, tm.sub_kelas

UNION

SELECT 
    GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
    nama_mapel, 
    nama, 
    tr.kelas
FROM 
    tb_rombel tr
LEFT JOIN 
    tb_guru_lain gl ON tr.id = gl.id_rombel
LEFT JOIN 
    tb_mapel tm ON tm.id = gl.id_mapel
LEFT JOIN 
    tb_guru_sekolah gs ON gs.id = gl.id_guru
LEFT JOIN 
    tb_guru tg ON tg.nuptk = gs.nuptk
WHERE 
    tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
GROUP BY 
    nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
ORDER BY 
    tr.kelas, tm.nama_mapel, nama_rombel, tg.nama, tm.jenis, tm.sub_kelas
')
 4 APPPATH\Models\M_user.php(249): CodeIgniter\Database\BaseConnection->query('SELECT 
    GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
    nama_mapel, 
    nama, 
    tr.kelas
FROM 
    tb_rombel tr
LEFT JOIN 
    tb_guru_mapel gm ON tr.id = gm.id_rombel
LEFT JOIN 
    tb_mapel tm ON tm.id = gm.id_mapel
LEFT JOIN 
    tb_guru_sekolah gs ON gs.id = gm.id_guru
LEFT JOIN 
    tb_guru tg ON tg.nuptk = gs.nuptk
WHERE 
    tr.id_sekolah = :id_sekolah: AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
GROUP BY 
    nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
ORDER BY 
    tr.kelas, tm.nama_mapel, nama_rombel, tg.nama, tm.jenis, tm.sub_kelas

UNION

SELECT 
    GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
    nama_mapel, 
    nama, 
    tr.kelas
FROM 
    tb_rombel tr
LEFT JOIN 
    tb_guru_lain gl ON tr.id = gl.id_rombel
LEFT JOIN 
    tb_mapel tm ON tm.id = gl.id_mapel
LEFT JOIN 
    tb_guru_sekolah gs ON gs.id = gl.id_guru
LEFT JOIN 
    tb_guru tg ON tg.nuptk = gs.nuptk
WHERE 
    tr.id_sekolah = :id_sekolah: AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
GROUP BY 
    nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
ORDER BY 
    tr.kelas, tm.nama_mapel, nama_rombel, tg.nama, tm.jenis, tm.sub_kelas
', [...])
 5 APPPATH\Controllers\Admin.php(1967): App\Models\M_user->get_daftar_guru_mapel('5d784c9e-f35a-4654-9851-b94d22be6f1e')
 6 SYSTEMPATH\CodeIgniter.php(932): App\Controllers\Admin->guru_mapel()
 7 SYSTEMPATH\CodeIgniter.php(497): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Admin))
 8 SYSTEMPATH\CodeIgniter.php(366): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 9 FCPATH\index.php(67): CodeIgniter\CodeIgniter->run()
10 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\laragon\\www\\sim\\public\\index.php')
INFO - 2023-11-23 11:24:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2023-11-23 11:24:51 --> mysqli_sql_exception: Table 'tr' from one of the SELECTs cannot be used in field list in D:\laragon\www\sim\system\Database\MySQLi\Connection.php:295
Stack trace:
#0 D:\laragon\www\sim\system\Database\MySQLi\Connection.php(295): mysqli->query('SELECT \n    GRO...', 0)
#1 D:\laragon\www\sim\system\Database\BaseConnection.php(692): CodeIgniter\Database\MySQLi\Connection->execute('SELECT \n    GRO...')
#2 D:\laragon\www\sim\system\Database\BaseConnection.php(606): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT \n    GRO...')
#3 D:\laragon\www\sim\app\Models\M_user.php(249): CodeIgniter\Database\BaseConnection->query('SELECT \n    GRO...', Array)
#4 D:\laragon\www\sim\app\Controllers\Admin.php(1967): App\Models\M_user->get_daftar_guru_mapel('5d784c9e-f35a-4...')
#5 D:\laragon\www\sim\system\CodeIgniter.php(932): App\Controllers\Admin->guru_mapel()
#6 D:\laragon\www\sim\system\CodeIgniter.php(497): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Admin))
#7 D:\laragon\www\sim\system\CodeIgniter.php(366): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#8 D:\laragon\www\sim\public\index.php(67): CodeIgniter\CodeIgniter->run()
#9 D:\laragon\www\sim\system\Commands\Server\rewrite.php(47): require_once('D:\\laragon\\www\\...')
#10 {main}
CRITICAL - 2023-11-23 11:24:51 --> Table 'tr' from one of the SELECTs cannot be used in field list
in SYSTEMPATH\Database\MySQLi\Connection.php on line 295.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(295): mysqli->query('SELECT 
    GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
    nama_mapel, 
    nama, 
    tr.kelas
FROM 
    tb_rombel tr
LEFT JOIN 
    tb_guru_mapel gm ON tr.id = gm.id_rombel
LEFT JOIN 
    tb_mapel tm ON tm.id = gm.id_mapel
LEFT JOIN 
    tb_guru_sekolah gs ON gs.id = gm.id_guru
LEFT JOIN 
    tb_guru tg ON tg.nuptk = gs.nuptk
WHERE 
    tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
    AND (some_condition) -- Sesuaikan kondisi tambahan jika diperlukan
GROUP BY 
    nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas

UNION

SELECT 
    GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
    nama_mapel, 
    nama, 
    tr.kelas
FROM 
    tb_rombel tr
LEFT JOIN 
    tb_guru_lain gl ON tr.id = gl.id_rombel
LEFT JOIN 
    tb_mapel tm ON tm.id = gl.id_mapel
LEFT JOIN 
    tb_guru_sekolah gs ON gs.id = gl.id_guru
LEFT JOIN 
    tb_guru tg ON tg.nuptk = gs.nuptk
WHERE 
    tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
    AND (some_condition) -- Sesuaikan kondisi tambahan jika diperlukan
GROUP BY 
    nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
ORDER BY 
    tr.kelas, nama_mapel, nama_rombel, nama, tm.jenis, tm.sub_kelas
', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(692): CodeIgniter\Database\MySQLi\Connection->execute('SELECT 
    GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
    nama_mapel, 
    nama, 
    tr.kelas
FROM 
    tb_rombel tr
LEFT JOIN 
    tb_guru_mapel gm ON tr.id = gm.id_rombel
LEFT JOIN 
    tb_mapel tm ON tm.id = gm.id_mapel
LEFT JOIN 
    tb_guru_sekolah gs ON gs.id = gm.id_guru
LEFT JOIN 
    tb_guru tg ON tg.nuptk = gs.nuptk
WHERE 
    tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
    AND (some_condition) -- Sesuaikan kondisi tambahan jika diperlukan
GROUP BY 
    nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas

UNION

SELECT 
    GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
    nama_mapel, 
    nama, 
    tr.kelas
FROM 
    tb_rombel tr
LEFT JOIN 
    tb_guru_lain gl ON tr.id = gl.id_rombel
LEFT JOIN 
    tb_mapel tm ON tm.id = gl.id_mapel
LEFT JOIN 
    tb_guru_sekolah gs ON gs.id = gl.id_guru
LEFT JOIN 
    tb_guru tg ON tg.nuptk = gs.nuptk
WHERE 
    tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
    AND (some_condition) -- Sesuaikan kondisi tambahan jika diperlukan
GROUP BY 
    nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
ORDER BY 
    tr.kelas, nama_mapel, nama_rombel, nama, tm.jenis, tm.sub_kelas
')
 3 SYSTEMPATH\Database\BaseConnection.php(606): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT 
    GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
    nama_mapel, 
    nama, 
    tr.kelas
FROM 
    tb_rombel tr
LEFT JOIN 
    tb_guru_mapel gm ON tr.id = gm.id_rombel
LEFT JOIN 
    tb_mapel tm ON tm.id = gm.id_mapel
LEFT JOIN 
    tb_guru_sekolah gs ON gs.id = gm.id_guru
LEFT JOIN 
    tb_guru tg ON tg.nuptk = gs.nuptk
WHERE 
    tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
    AND (some_condition) -- Sesuaikan kondisi tambahan jika diperlukan
GROUP BY 
    nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas

UNION

SELECT 
    GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
    nama_mapel, 
    nama, 
    tr.kelas
FROM 
    tb_rombel tr
LEFT JOIN 
    tb_guru_lain gl ON tr.id = gl.id_rombel
LEFT JOIN 
    tb_mapel tm ON tm.id = gl.id_mapel
LEFT JOIN 
    tb_guru_sekolah gs ON gs.id = gl.id_guru
LEFT JOIN 
    tb_guru tg ON tg.nuptk = gs.nuptk
WHERE 
    tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
    AND (some_condition) -- Sesuaikan kondisi tambahan jika diperlukan
GROUP BY 
    nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
ORDER BY 
    tr.kelas, nama_mapel, nama_rombel, nama, tm.jenis, tm.sub_kelas
')
 4 APPPATH\Models\M_user.php(249): CodeIgniter\Database\BaseConnection->query('SELECT 
    GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
    nama_mapel, 
    nama, 
    tr.kelas
FROM 
    tb_rombel tr
LEFT JOIN 
    tb_guru_mapel gm ON tr.id = gm.id_rombel
LEFT JOIN 
    tb_mapel tm ON tm.id = gm.id_mapel
LEFT JOIN 
    tb_guru_sekolah gs ON gs.id = gm.id_guru
LEFT JOIN 
    tb_guru tg ON tg.nuptk = gs.nuptk
WHERE 
    tr.id_sekolah = :id_sekolah: AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
    AND (some_condition) -- Sesuaikan kondisi tambahan jika diperlukan
GROUP BY 
    nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas

UNION

SELECT 
    GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
    nama_mapel, 
    nama, 
    tr.kelas
FROM 
    tb_rombel tr
LEFT JOIN 
    tb_guru_lain gl ON tr.id = gl.id_rombel
LEFT JOIN 
    tb_mapel tm ON tm.id = gl.id_mapel
LEFT JOIN 
    tb_guru_sekolah gs ON gs.id = gl.id_guru
LEFT JOIN 
    tb_guru tg ON tg.nuptk = gs.nuptk
WHERE 
    tr.id_sekolah = :id_sekolah: AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
    AND (some_condition) -- Sesuaikan kondisi tambahan jika diperlukan
GROUP BY 
    nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
ORDER BY 
    tr.kelas, nama_mapel, nama_rombel, nama, tm.jenis, tm.sub_kelas
', [...])
 5 APPPATH\Controllers\Admin.php(1967): App\Models\M_user->get_daftar_guru_mapel('5d784c9e-f35a-4654-9851-b94d22be6f1e')
 6 SYSTEMPATH\CodeIgniter.php(932): App\Controllers\Admin->guru_mapel()
 7 SYSTEMPATH\CodeIgniter.php(497): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Admin))
 8 SYSTEMPATH\CodeIgniter.php(366): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 9 FCPATH\index.php(67): CodeIgniter\CodeIgniter->run()
10 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\laragon\\www\\sim\\public\\index.php')
INFO - 2023-11-23 11:26:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2023-11-23 11:26:08 --> mysqli_sql_exception: Unknown column 'some_condition' in 'where clause' in D:\laragon\www\sim\system\Database\MySQLi\Connection.php:295
Stack trace:
#0 D:\laragon\www\sim\system\Database\MySQLi\Connection.php(295): mysqli->query('SELECT \n    GRO...', 0)
#1 D:\laragon\www\sim\system\Database\BaseConnection.php(692): CodeIgniter\Database\MySQLi\Connection->execute('SELECT \n    GRO...')
#2 D:\laragon\www\sim\system\Database\BaseConnection.php(606): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT \n    GRO...')
#3 D:\laragon\www\sim\app\Models\M_user.php(256): CodeIgniter\Database\BaseConnection->query('SELECT \n    GRO...', Array)
#4 D:\laragon\www\sim\app\Controllers\Admin.php(1967): App\Models\M_user->get_daftar_guru_mapel('5d784c9e-f35a-4...')
#5 D:\laragon\www\sim\system\CodeIgniter.php(932): App\Controllers\Admin->guru_mapel()
#6 D:\laragon\www\sim\system\CodeIgniter.php(497): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Admin))
#7 D:\laragon\www\sim\system\CodeIgniter.php(366): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#8 D:\laragon\www\sim\public\index.php(67): CodeIgniter\CodeIgniter->run()
#9 D:\laragon\www\sim\system\Commands\Server\rewrite.php(47): require_once('D:\\laragon\\www\\...')
#10 {main}
CRITICAL - 2023-11-23 11:26:08 --> Unknown column 'some_condition' in 'where clause'
in SYSTEMPATH\Database\MySQLi\Connection.php on line 295.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(295): mysqli->query('SELECT 
    GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
    nama_mapel, 
    nama, 
    kelas
FROM (
    SELECT 
        tr.kelas AS kelas,
        GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
        nama_mapel, 
        nama
    FROM 
        tb_rombel tr
    LEFT JOIN 
        tb_guru_mapel gm ON tr.id = gm.id_rombel
    LEFT JOIN 
        tb_mapel tm ON tm.id = gm.id_mapel
    LEFT JOIN 
        tb_guru_sekolah gs ON gs.id = gm.id_guru
    LEFT JOIN 
        tb_guru tg ON tg.nuptk = gs.nuptk
    WHERE 
        tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
        AND (some_condition) -- Sesuaikan kondisi tambahan jika diperlukan
    GROUP BY 
        nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas

    UNION

    SELECT 
        tr.kelas AS kelas,
        GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
        nama_mapel, 
        nama
    FROM 
        tb_rombel tr
    LEFT JOIN 
        tb_guru_lain gl ON tr.id = gl.id_rombel
    LEFT JOIN 
        tb_mapel tm ON tm.id = gl.id_mapel
    LEFT JOIN 
        tb_guru_sekolah gs ON gs.id = gl.id_guru
    LEFT JOIN 
        tb_guru tg ON tg.nuptk = gs.nuptk
    WHERE 
        tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
        AND (some_condition) -- Sesuaikan kondisi tambahan jika diperlukan
    GROUP BY 
        nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
) AS union_result
ORDER BY 
    kelas, nama_mapel, nama_rombel, nama, tm.jenis, tm.sub_kelas
', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(692): CodeIgniter\Database\MySQLi\Connection->execute('SELECT 
    GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
    nama_mapel, 
    nama, 
    kelas
FROM (
    SELECT 
        tr.kelas AS kelas,
        GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
        nama_mapel, 
        nama
    FROM 
        tb_rombel tr
    LEFT JOIN 
        tb_guru_mapel gm ON tr.id = gm.id_rombel
    LEFT JOIN 
        tb_mapel tm ON tm.id = gm.id_mapel
    LEFT JOIN 
        tb_guru_sekolah gs ON gs.id = gm.id_guru
    LEFT JOIN 
        tb_guru tg ON tg.nuptk = gs.nuptk
    WHERE 
        tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
        AND (some_condition) -- Sesuaikan kondisi tambahan jika diperlukan
    GROUP BY 
        nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas

    UNION

    SELECT 
        tr.kelas AS kelas,
        GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
        nama_mapel, 
        nama
    FROM 
        tb_rombel tr
    LEFT JOIN 
        tb_guru_lain gl ON tr.id = gl.id_rombel
    LEFT JOIN 
        tb_mapel tm ON tm.id = gl.id_mapel
    LEFT JOIN 
        tb_guru_sekolah gs ON gs.id = gl.id_guru
    LEFT JOIN 
        tb_guru tg ON tg.nuptk = gs.nuptk
    WHERE 
        tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
        AND (some_condition) -- Sesuaikan kondisi tambahan jika diperlukan
    GROUP BY 
        nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
) AS union_result
ORDER BY 
    kelas, nama_mapel, nama_rombel, nama, tm.jenis, tm.sub_kelas
')
 3 SYSTEMPATH\Database\BaseConnection.php(606): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT 
    GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
    nama_mapel, 
    nama, 
    kelas
FROM (
    SELECT 
        tr.kelas AS kelas,
        GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
        nama_mapel, 
        nama
    FROM 
        tb_rombel tr
    LEFT JOIN 
        tb_guru_mapel gm ON tr.id = gm.id_rombel
    LEFT JOIN 
        tb_mapel tm ON tm.id = gm.id_mapel
    LEFT JOIN 
        tb_guru_sekolah gs ON gs.id = gm.id_guru
    LEFT JOIN 
        tb_guru tg ON tg.nuptk = gs.nuptk
    WHERE 
        tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
        AND (some_condition) -- Sesuaikan kondisi tambahan jika diperlukan
    GROUP BY 
        nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas

    UNION

    SELECT 
        tr.kelas AS kelas,
        GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
        nama_mapel, 
        nama
    FROM 
        tb_rombel tr
    LEFT JOIN 
        tb_guru_lain gl ON tr.id = gl.id_rombel
    LEFT JOIN 
        tb_mapel tm ON tm.id = gl.id_mapel
    LEFT JOIN 
        tb_guru_sekolah gs ON gs.id = gl.id_guru
    LEFT JOIN 
        tb_guru tg ON tg.nuptk = gs.nuptk
    WHERE 
        tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
        AND (some_condition) -- Sesuaikan kondisi tambahan jika diperlukan
    GROUP BY 
        nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
) AS union_result
ORDER BY 
    kelas, nama_mapel, nama_rombel, nama, tm.jenis, tm.sub_kelas
')
 4 APPPATH\Models\M_user.php(256): CodeIgniter\Database\BaseConnection->query('SELECT 
    GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
    nama_mapel, 
    nama, 
    kelas
FROM (
    SELECT 
        tr.kelas AS kelas,
        GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
        nama_mapel, 
        nama
    FROM 
        tb_rombel tr
    LEFT JOIN 
        tb_guru_mapel gm ON tr.id = gm.id_rombel
    LEFT JOIN 
        tb_mapel tm ON tm.id = gm.id_mapel
    LEFT JOIN 
        tb_guru_sekolah gs ON gs.id = gm.id_guru
    LEFT JOIN 
        tb_guru tg ON tg.nuptk = gs.nuptk
    WHERE 
        tr.id_sekolah = :id_sekolah: AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
        AND (some_condition) -- Sesuaikan kondisi tambahan jika diperlukan
    GROUP BY 
        nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas

    UNION

    SELECT 
        tr.kelas AS kelas,
        GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
        nama_mapel, 
        nama
    FROM 
        tb_rombel tr
    LEFT JOIN 
        tb_guru_lain gl ON tr.id = gl.id_rombel
    LEFT JOIN 
        tb_mapel tm ON tm.id = gl.id_mapel
    LEFT JOIN 
        tb_guru_sekolah gs ON gs.id = gl.id_guru
    LEFT JOIN 
        tb_guru tg ON tg.nuptk = gs.nuptk
    WHERE 
        tr.id_sekolah = :id_sekolah: AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
        AND (some_condition) -- Sesuaikan kondisi tambahan jika diperlukan
    GROUP BY 
        nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
) AS union_result
ORDER BY 
    kelas, nama_mapel, nama_rombel, nama, tm.jenis, tm.sub_kelas
', [...])
 5 APPPATH\Controllers\Admin.php(1967): App\Models\M_user->get_daftar_guru_mapel('5d784c9e-f35a-4654-9851-b94d22be6f1e')
 6 SYSTEMPATH\CodeIgniter.php(932): App\Controllers\Admin->guru_mapel()
 7 SYSTEMPATH\CodeIgniter.php(497): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Admin))
 8 SYSTEMPATH\CodeIgniter.php(366): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 9 FCPATH\index.php(67): CodeIgniter\CodeIgniter->run()
10 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\laragon\\www\\sim\\public\\index.php')
INFO - 2023-11-23 11:27:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2023-11-23 11:27:23 --> mysqli_sql_exception: Unknown column 'gl.id_mapel' in 'on clause' in D:\laragon\www\sim\system\Database\MySQLi\Connection.php:295
Stack trace:
#0 D:\laragon\www\sim\system\Database\MySQLi\Connection.php(295): mysqli->query('SELECT \n    GRO...', 0)
#1 D:\laragon\www\sim\system\Database\BaseConnection.php(692): CodeIgniter\Database\MySQLi\Connection->execute('SELECT \n    GRO...')
#2 D:\laragon\www\sim\system\Database\BaseConnection.php(606): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT \n    GRO...')
#3 D:\laragon\www\sim\app\Models\M_user.php(254): CodeIgniter\Database\BaseConnection->query('SELECT \n    GRO...', Array)
#4 D:\laragon\www\sim\app\Controllers\Admin.php(1967): App\Models\M_user->get_daftar_guru_mapel('5d784c9e-f35a-4...')
#5 D:\laragon\www\sim\system\CodeIgniter.php(932): App\Controllers\Admin->guru_mapel()
#6 D:\laragon\www\sim\system\CodeIgniter.php(497): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Admin))
#7 D:\laragon\www\sim\system\CodeIgniter.php(366): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#8 D:\laragon\www\sim\public\index.php(67): CodeIgniter\CodeIgniter->run()
#9 D:\laragon\www\sim\system\Commands\Server\rewrite.php(47): require_once('D:\\laragon\\www\\...')
#10 {main}
CRITICAL - 2023-11-23 11:27:23 --> Unknown column 'gl.id_mapel' in 'on clause'
in SYSTEMPATH\Database\MySQLi\Connection.php on line 295.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(295): mysqli->query('SELECT 
    GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
    nama_mapel, 
    nama, 
    kelas
FROM (
    SELECT 
        tr.kelas AS kelas,
        GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
        nama_mapel, 
        nama
    FROM 
        tb_rombel tr
    LEFT JOIN 
        tb_guru_mapel gm ON tr.id = gm.id_rombel
    LEFT JOIN 
        tb_mapel tm ON tm.id = gm.id_mapel
    LEFT JOIN 
        tb_guru_sekolah gs ON gs.id = gm.id_guru
    LEFT JOIN 
        tb_guru tg ON tg.nuptk = gs.nuptk
    WHERE 
        tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
    GROUP BY 
        nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas

    UNION

    SELECT 
        tr.kelas AS kelas,
        GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
        nama_mapel, 
        nama
    FROM 
        tb_rombel tr
    LEFT JOIN 
        tb_guru_lain gl ON tr.id = gl.id_rombel
    LEFT JOIN 
        tb_mapel tm ON tm.id = gl.id_mapel
    LEFT JOIN 
        tb_guru_sekolah gs ON gs.id = gl.id_guru
    LEFT JOIN 
        tb_guru tg ON tg.nuptk = gs.nuptk
    WHERE 
        tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
    GROUP BY 
        nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
) AS union_result
ORDER BY 
    kelas, nama_mapel, nama_rombel, nama, tm.jenis, tm.sub_kelas
', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(692): CodeIgniter\Database\MySQLi\Connection->execute('SELECT 
    GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
    nama_mapel, 
    nama, 
    kelas
FROM (
    SELECT 
        tr.kelas AS kelas,
        GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
        nama_mapel, 
        nama
    FROM 
        tb_rombel tr
    LEFT JOIN 
        tb_guru_mapel gm ON tr.id = gm.id_rombel
    LEFT JOIN 
        tb_mapel tm ON tm.id = gm.id_mapel
    LEFT JOIN 
        tb_guru_sekolah gs ON gs.id = gm.id_guru
    LEFT JOIN 
        tb_guru tg ON tg.nuptk = gs.nuptk
    WHERE 
        tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
    GROUP BY 
        nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas

    UNION

    SELECT 
        tr.kelas AS kelas,
        GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
        nama_mapel, 
        nama
    FROM 
        tb_rombel tr
    LEFT JOIN 
        tb_guru_lain gl ON tr.id = gl.id_rombel
    LEFT JOIN 
        tb_mapel tm ON tm.id = gl.id_mapel
    LEFT JOIN 
        tb_guru_sekolah gs ON gs.id = gl.id_guru
    LEFT JOIN 
        tb_guru tg ON tg.nuptk = gs.nuptk
    WHERE 
        tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
    GROUP BY 
        nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
) AS union_result
ORDER BY 
    kelas, nama_mapel, nama_rombel, nama, tm.jenis, tm.sub_kelas
')
 3 SYSTEMPATH\Database\BaseConnection.php(606): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT 
    GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
    nama_mapel, 
    nama, 
    kelas
FROM (
    SELECT 
        tr.kelas AS kelas,
        GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
        nama_mapel, 
        nama
    FROM 
        tb_rombel tr
    LEFT JOIN 
        tb_guru_mapel gm ON tr.id = gm.id_rombel
    LEFT JOIN 
        tb_mapel tm ON tm.id = gm.id_mapel
    LEFT JOIN 
        tb_guru_sekolah gs ON gs.id = gm.id_guru
    LEFT JOIN 
        tb_guru tg ON tg.nuptk = gs.nuptk
    WHERE 
        tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
    GROUP BY 
        nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas

    UNION

    SELECT 
        tr.kelas AS kelas,
        GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
        nama_mapel, 
        nama
    FROM 
        tb_rombel tr
    LEFT JOIN 
        tb_guru_lain gl ON tr.id = gl.id_rombel
    LEFT JOIN 
        tb_mapel tm ON tm.id = gl.id_mapel
    LEFT JOIN 
        tb_guru_sekolah gs ON gs.id = gl.id_guru
    LEFT JOIN 
        tb_guru tg ON tg.nuptk = gs.nuptk
    WHERE 
        tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
    GROUP BY 
        nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
) AS union_result
ORDER BY 
    kelas, nama_mapel, nama_rombel, nama, tm.jenis, tm.sub_kelas
')
 4 APPPATH\Models\M_user.php(254): CodeIgniter\Database\BaseConnection->query('SELECT 
    GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
    nama_mapel, 
    nama, 
    kelas
FROM (
    SELECT 
        tr.kelas AS kelas,
        GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
        nama_mapel, 
        nama
    FROM 
        tb_rombel tr
    LEFT JOIN 
        tb_guru_mapel gm ON tr.id = gm.id_rombel
    LEFT JOIN 
        tb_mapel tm ON tm.id = gm.id_mapel
    LEFT JOIN 
        tb_guru_sekolah gs ON gs.id = gm.id_guru
    LEFT JOIN 
        tb_guru tg ON tg.nuptk = gs.nuptk
    WHERE 
        tr.id_sekolah = :id_sekolah: AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
    GROUP BY 
        nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas

    UNION

    SELECT 
        tr.kelas AS kelas,
        GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
        nama_mapel, 
        nama
    FROM 
        tb_rombel tr
    LEFT JOIN 
        tb_guru_lain gl ON tr.id = gl.id_rombel
    LEFT JOIN 
        tb_mapel tm ON tm.id = gl.id_mapel
    LEFT JOIN 
        tb_guru_sekolah gs ON gs.id = gl.id_guru
    LEFT JOIN 
        tb_guru tg ON tg.nuptk = gs.nuptk
    WHERE 
        tr.id_sekolah = :id_sekolah: AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
    GROUP BY 
        nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
) AS union_result
ORDER BY 
    kelas, nama_mapel, nama_rombel, nama, tm.jenis, tm.sub_kelas
', [...])
 5 APPPATH\Controllers\Admin.php(1967): App\Models\M_user->get_daftar_guru_mapel('5d784c9e-f35a-4654-9851-b94d22be6f1e')
 6 SYSTEMPATH\CodeIgniter.php(932): App\Controllers\Admin->guru_mapel()
 7 SYSTEMPATH\CodeIgniter.php(497): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Admin))
 8 SYSTEMPATH\CodeIgniter.php(366): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 9 FCPATH\index.php(67): CodeIgniter\CodeIgniter->run()
10 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\laragon\\www\\sim\\public\\index.php')
INFO - 2023-11-23 11:29:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2023-11-23 11:29:14 --> mysqli_sql_exception: Unknown column 'tm.jenis' in 'group statement' in D:\laragon\www\sim\system\Database\MySQLi\Connection.php:295
Stack trace:
#0 D:\laragon\www\sim\system\Database\MySQLi\Connection.php(295): mysqli->query('SELECT \n    GRO...', 0)
#1 D:\laragon\www\sim\system\Database\BaseConnection.php(692): CodeIgniter\Database\MySQLi\Connection->execute('SELECT \n    GRO...')
#2 D:\laragon\www\sim\system\Database\BaseConnection.php(606): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT \n    GRO...')
#3 D:\laragon\www\sim\app\Models\M_user.php(252): CodeIgniter\Database\BaseConnection->query('SELECT \n    GRO...', Array)
#4 D:\laragon\www\sim\app\Controllers\Admin.php(1967): App\Models\M_user->get_daftar_guru_mapel('5d784c9e-f35a-4...')
#5 D:\laragon\www\sim\system\CodeIgniter.php(932): App\Controllers\Admin->guru_mapel()
#6 D:\laragon\www\sim\system\CodeIgniter.php(497): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Admin))
#7 D:\laragon\www\sim\system\CodeIgniter.php(366): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#8 D:\laragon\www\sim\public\index.php(67): CodeIgniter\CodeIgniter->run()
#9 D:\laragon\www\sim\system\Commands\Server\rewrite.php(47): require_once('D:\\laragon\\www\\...')
#10 {main}
CRITICAL - 2023-11-23 11:29:14 --> Unknown column 'tm.jenis' in 'group statement'
in SYSTEMPATH\Database\MySQLi\Connection.php on line 295.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(295): mysqli->query('SELECT 
    GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
    nama_mapel, 
    nama, 
    kelas
FROM (
    SELECT 
        tr.kelas AS kelas,
        GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
        nama_mapel, 
        nama
    FROM 
        tb_rombel tr
    LEFT JOIN 
        tb_guru_mapel gm ON tr.id = gm.id_rombel
    LEFT JOIN 
        tb_mapel tm ON tm.id = gm.id_mapel
    LEFT JOIN 
        tb_guru_sekolah gs ON gs.id = gm.id_guru
    LEFT JOIN 
        tb_guru tg ON tg.nuptk = gs.nuptk
    WHERE 
        tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
    GROUP BY 
        nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas

    UNION

    SELECT 
        tr.kelas AS kelas,
        GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
        (CASE WHEN jenis_mapel=1 THEN \'BK\' ELSE \'P5\' END) as nama_mapel, 
        nama
    FROM 
        tb_rombel tr
    LEFT JOIN 
        tb_guru_lain gl ON tr.id = gl.id_rombel
    LEFT JOIN 
        tb_guru_sekolah gs ON gs.id = gl.id_guru
    LEFT JOIN 
        tb_guru tg ON tg.nuptk = gs.nuptk
    WHERE 
        tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
    GROUP BY 
        nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
) AS union_result
ORDER BY 
    kelas, nama_mapel, nama_rombel, nama, tm.jenis, tm.sub_kelas
', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(692): CodeIgniter\Database\MySQLi\Connection->execute('SELECT 
    GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
    nama_mapel, 
    nama, 
    kelas
FROM (
    SELECT 
        tr.kelas AS kelas,
        GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
        nama_mapel, 
        nama
    FROM 
        tb_rombel tr
    LEFT JOIN 
        tb_guru_mapel gm ON tr.id = gm.id_rombel
    LEFT JOIN 
        tb_mapel tm ON tm.id = gm.id_mapel
    LEFT JOIN 
        tb_guru_sekolah gs ON gs.id = gm.id_guru
    LEFT JOIN 
        tb_guru tg ON tg.nuptk = gs.nuptk
    WHERE 
        tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
    GROUP BY 
        nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas

    UNION

    SELECT 
        tr.kelas AS kelas,
        GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
        (CASE WHEN jenis_mapel=1 THEN \'BK\' ELSE \'P5\' END) as nama_mapel, 
        nama
    FROM 
        tb_rombel tr
    LEFT JOIN 
        tb_guru_lain gl ON tr.id = gl.id_rombel
    LEFT JOIN 
        tb_guru_sekolah gs ON gs.id = gl.id_guru
    LEFT JOIN 
        tb_guru tg ON tg.nuptk = gs.nuptk
    WHERE 
        tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
    GROUP BY 
        nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
) AS union_result
ORDER BY 
    kelas, nama_mapel, nama_rombel, nama, tm.jenis, tm.sub_kelas
')
 3 SYSTEMPATH\Database\BaseConnection.php(606): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT 
    GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
    nama_mapel, 
    nama, 
    kelas
FROM (
    SELECT 
        tr.kelas AS kelas,
        GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
        nama_mapel, 
        nama
    FROM 
        tb_rombel tr
    LEFT JOIN 
        tb_guru_mapel gm ON tr.id = gm.id_rombel
    LEFT JOIN 
        tb_mapel tm ON tm.id = gm.id_mapel
    LEFT JOIN 
        tb_guru_sekolah gs ON gs.id = gm.id_guru
    LEFT JOIN 
        tb_guru tg ON tg.nuptk = gs.nuptk
    WHERE 
        tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
    GROUP BY 
        nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas

    UNION

    SELECT 
        tr.kelas AS kelas,
        GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
        (CASE WHEN jenis_mapel=1 THEN \'BK\' ELSE \'P5\' END) as nama_mapel, 
        nama
    FROM 
        tb_rombel tr
    LEFT JOIN 
        tb_guru_lain gl ON tr.id = gl.id_rombel
    LEFT JOIN 
        tb_guru_sekolah gs ON gs.id = gl.id_guru
    LEFT JOIN 
        tb_guru tg ON tg.nuptk = gs.nuptk
    WHERE 
        tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
    GROUP BY 
        nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
) AS union_result
ORDER BY 
    kelas, nama_mapel, nama_rombel, nama, tm.jenis, tm.sub_kelas
')
 4 APPPATH\Models\M_user.php(252): CodeIgniter\Database\BaseConnection->query('SELECT 
    GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
    nama_mapel, 
    nama, 
    kelas
FROM (
    SELECT 
        tr.kelas AS kelas,
        GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
        nama_mapel, 
        nama
    FROM 
        tb_rombel tr
    LEFT JOIN 
        tb_guru_mapel gm ON tr.id = gm.id_rombel
    LEFT JOIN 
        tb_mapel tm ON tm.id = gm.id_mapel
    LEFT JOIN 
        tb_guru_sekolah gs ON gs.id = gm.id_guru
    LEFT JOIN 
        tb_guru tg ON tg.nuptk = gs.nuptk
    WHERE 
        tr.id_sekolah = :id_sekolah: AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
    GROUP BY 
        nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas

    UNION

    SELECT 
        tr.kelas AS kelas,
        GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
        (CASE WHEN jenis_mapel=1 THEN \'BK\' ELSE \'P5\' END) as nama_mapel, 
        nama
    FROM 
        tb_rombel tr
    LEFT JOIN 
        tb_guru_lain gl ON tr.id = gl.id_rombel
    LEFT JOIN 
        tb_guru_sekolah gs ON gs.id = gl.id_guru
    LEFT JOIN 
        tb_guru tg ON tg.nuptk = gs.nuptk
    WHERE 
        tr.id_sekolah = :id_sekolah: AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
    GROUP BY 
        nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
) AS union_result
ORDER BY 
    kelas, nama_mapel, nama_rombel, nama, tm.jenis, tm.sub_kelas
', [...])
 5 APPPATH\Controllers\Admin.php(1967): App\Models\M_user->get_daftar_guru_mapel('5d784c9e-f35a-4654-9851-b94d22be6f1e')
 6 SYSTEMPATH\CodeIgniter.php(932): App\Controllers\Admin->guru_mapel()
 7 SYSTEMPATH\CodeIgniter.php(497): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Admin))
 8 SYSTEMPATH\CodeIgniter.php(366): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 9 FCPATH\index.php(67): CodeIgniter\CodeIgniter->run()
10 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\laragon\\www\\sim\\public\\index.php')
INFO - 2023-11-23 11:32:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2023-11-23 11:32:07 --> mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '.jenis, 1 as tm.sub_kelas
    FROM 
        tb_rombel tr
    LEFT JOIN 
        ' at line 33 in D:\laragon\www\sim\system\Database\MySQLi\Connection.php:295
Stack trace:
#0 D:\laragon\www\sim\system\Database\MySQLi\Connection.php(295): mysqli->query('SELECT \n    GRO...', 0)
#1 D:\laragon\www\sim\system\Database\BaseConnection.php(692): CodeIgniter\Database\MySQLi\Connection->execute('SELECT \n    GRO...')
#2 D:\laragon\www\sim\system\Database\BaseConnection.php(606): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT \n    GRO...')
#3 D:\laragon\www\sim\app\Models\M_user.php(252): CodeIgniter\Database\BaseConnection->query('SELECT \n    GRO...', Array)
#4 D:\laragon\www\sim\app\Controllers\Admin.php(1967): App\Models\M_user->get_daftar_guru_mapel('5d784c9e-f35a-4...')
#5 D:\laragon\www\sim\system\CodeIgniter.php(932): App\Controllers\Admin->guru_mapel()
#6 D:\laragon\www\sim\system\CodeIgniter.php(497): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Admin))
#7 D:\laragon\www\sim\system\CodeIgniter.php(366): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#8 D:\laragon\www\sim\public\index.php(67): CodeIgniter\CodeIgniter->run()
#9 D:\laragon\www\sim\system\Commands\Server\rewrite.php(47): require_once('D:\\laragon\\www\\...')
#10 {main}
CRITICAL - 2023-11-23 11:32:07 --> You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '.jenis, 1 as tm.sub_kelas
    FROM 
        tb_rombel tr
    LEFT JOIN 
        ' at line 33
in SYSTEMPATH\Database\MySQLi\Connection.php on line 295.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(295): mysqli->query('SELECT 
    GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
    nama_mapel, 
    nama, 
    kelas
FROM (
    SELECT 
        tr.kelas AS kelas,
        GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
        nama_mapel, 
        nama
    FROM 
        tb_rombel tr
    LEFT JOIN 
        tb_guru_mapel gm ON tr.id = gm.id_rombel
    LEFT JOIN 
        tb_mapel tm ON tm.id = gm.id_mapel
    LEFT JOIN 
        tb_guru_sekolah gs ON gs.id = gm.id_guru
    LEFT JOIN 
        tb_guru tg ON tg.nuptk = gs.nuptk
    WHERE 
        tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
    GROUP BY 
        nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas

    UNION

    SELECT 
        tr.kelas AS kelas,
        GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
        (CASE WHEN jenis_mapel=1 THEN \'BK\' ELSE \'P5\' END) as nama_mapel, 
        nama, 1 as tm.jenis, 1 as tm.sub_kelas
    FROM 
        tb_rombel tr
    LEFT JOIN 
        tb_guru_lain gl ON tr.id = gl.id_rombel
    LEFT JOIN 
        tb_guru_sekolah gs ON gs.id = gl.id_guru
    LEFT JOIN 
        tb_guru tg ON tg.nuptk = gs.nuptk
    WHERE 
        tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
    GROUP BY 
        nama_mapel, nama, tr.kelas, tm.sub_kelas
) AS union_result
ORDER BY 
    kelas, nama_mapel, nama_rombel, nama, tm.jenis, tm.sub_kelas
', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(692): CodeIgniter\Database\MySQLi\Connection->execute('SELECT 
    GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
    nama_mapel, 
    nama, 
    kelas
FROM (
    SELECT 
        tr.kelas AS kelas,
        GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
        nama_mapel, 
        nama
    FROM 
        tb_rombel tr
    LEFT JOIN 
        tb_guru_mapel gm ON tr.id = gm.id_rombel
    LEFT JOIN 
        tb_mapel tm ON tm.id = gm.id_mapel
    LEFT JOIN 
        tb_guru_sekolah gs ON gs.id = gm.id_guru
    LEFT JOIN 
        tb_guru tg ON tg.nuptk = gs.nuptk
    WHERE 
        tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
    GROUP BY 
        nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas

    UNION

    SELECT 
        tr.kelas AS kelas,
        GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
        (CASE WHEN jenis_mapel=1 THEN \'BK\' ELSE \'P5\' END) as nama_mapel, 
        nama, 1 as tm.jenis, 1 as tm.sub_kelas
    FROM 
        tb_rombel tr
    LEFT JOIN 
        tb_guru_lain gl ON tr.id = gl.id_rombel
    LEFT JOIN 
        tb_guru_sekolah gs ON gs.id = gl.id_guru
    LEFT JOIN 
        tb_guru tg ON tg.nuptk = gs.nuptk
    WHERE 
        tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
    GROUP BY 
        nama_mapel, nama, tr.kelas, tm.sub_kelas
) AS union_result
ORDER BY 
    kelas, nama_mapel, nama_rombel, nama, tm.jenis, tm.sub_kelas
')
 3 SYSTEMPATH\Database\BaseConnection.php(606): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT 
    GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
    nama_mapel, 
    nama, 
    kelas
FROM (
    SELECT 
        tr.kelas AS kelas,
        GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
        nama_mapel, 
        nama
    FROM 
        tb_rombel tr
    LEFT JOIN 
        tb_guru_mapel gm ON tr.id = gm.id_rombel
    LEFT JOIN 
        tb_mapel tm ON tm.id = gm.id_mapel
    LEFT JOIN 
        tb_guru_sekolah gs ON gs.id = gm.id_guru
    LEFT JOIN 
        tb_guru tg ON tg.nuptk = gs.nuptk
    WHERE 
        tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
    GROUP BY 
        nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas

    UNION

    SELECT 
        tr.kelas AS kelas,
        GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
        (CASE WHEN jenis_mapel=1 THEN \'BK\' ELSE \'P5\' END) as nama_mapel, 
        nama, 1 as tm.jenis, 1 as tm.sub_kelas
    FROM 
        tb_rombel tr
    LEFT JOIN 
        tb_guru_lain gl ON tr.id = gl.id_rombel
    LEFT JOIN 
        tb_guru_sekolah gs ON gs.id = gl.id_guru
    LEFT JOIN 
        tb_guru tg ON tg.nuptk = gs.nuptk
    WHERE 
        tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
    GROUP BY 
        nama_mapel, nama, tr.kelas, tm.sub_kelas
) AS union_result
ORDER BY 
    kelas, nama_mapel, nama_rombel, nama, tm.jenis, tm.sub_kelas
')
 4 APPPATH\Models\M_user.php(252): CodeIgniter\Database\BaseConnection->query('SELECT 
    GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
    nama_mapel, 
    nama, 
    kelas
FROM (
    SELECT 
        tr.kelas AS kelas,
        GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
        nama_mapel, 
        nama
    FROM 
        tb_rombel tr
    LEFT JOIN 
        tb_guru_mapel gm ON tr.id = gm.id_rombel
    LEFT JOIN 
        tb_mapel tm ON tm.id = gm.id_mapel
    LEFT JOIN 
        tb_guru_sekolah gs ON gs.id = gm.id_guru
    LEFT JOIN 
        tb_guru tg ON tg.nuptk = gs.nuptk
    WHERE 
        tr.id_sekolah = :id_sekolah: AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
    GROUP BY 
        nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas

    UNION

    SELECT 
        tr.kelas AS kelas,
        GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
        (CASE WHEN jenis_mapel=1 THEN \'BK\' ELSE \'P5\' END) as nama_mapel, 
        nama, 1 as tm.jenis, 1 as tm.sub_kelas
    FROM 
        tb_rombel tr
    LEFT JOIN 
        tb_guru_lain gl ON tr.id = gl.id_rombel
    LEFT JOIN 
        tb_guru_sekolah gs ON gs.id = gl.id_guru
    LEFT JOIN 
        tb_guru tg ON tg.nuptk = gs.nuptk
    WHERE 
        tr.id_sekolah = :id_sekolah: AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
    GROUP BY 
        nama_mapel, nama, tr.kelas, tm.sub_kelas
) AS union_result
ORDER BY 
    kelas, nama_mapel, nama_rombel, nama, tm.jenis, tm.sub_kelas
', [...])
 5 APPPATH\Controllers\Admin.php(1967): App\Models\M_user->get_daftar_guru_mapel('5d784c9e-f35a-4654-9851-b94d22be6f1e')
 6 SYSTEMPATH\CodeIgniter.php(932): App\Controllers\Admin->guru_mapel()
 7 SYSTEMPATH\CodeIgniter.php(497): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Admin))
 8 SYSTEMPATH\CodeIgniter.php(366): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 9 FCPATH\index.php(67): CodeIgniter\CodeIgniter->run()
10 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\laragon\\www\\sim\\public\\index.php')
INFO - 2023-11-23 11:32:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2023-11-23 11:32:24 --> mysqli_sql_exception: Unknown column 'tm.sub_kelas' in 'group statement' in D:\laragon\www\sim\system\Database\MySQLi\Connection.php:295
Stack trace:
#0 D:\laragon\www\sim\system\Database\MySQLi\Connection.php(295): mysqli->query('SELECT \n    GRO...', 0)
#1 D:\laragon\www\sim\system\Database\BaseConnection.php(692): CodeIgniter\Database\MySQLi\Connection->execute('SELECT \n    GRO...')
#2 D:\laragon\www\sim\system\Database\BaseConnection.php(606): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT \n    GRO...')
#3 D:\laragon\www\sim\app\Models\M_user.php(252): CodeIgniter\Database\BaseConnection->query('SELECT \n    GRO...', Array)
#4 D:\laragon\www\sim\app\Controllers\Admin.php(1967): App\Models\M_user->get_daftar_guru_mapel('5d784c9e-f35a-4...')
#5 D:\laragon\www\sim\system\CodeIgniter.php(932): App\Controllers\Admin->guru_mapel()
#6 D:\laragon\www\sim\system\CodeIgniter.php(497): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Admin))
#7 D:\laragon\www\sim\system\CodeIgniter.php(366): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#8 D:\laragon\www\sim\public\index.php(67): CodeIgniter\CodeIgniter->run()
#9 D:\laragon\www\sim\system\Commands\Server\rewrite.php(47): require_once('D:\\laragon\\www\\...')
#10 {main}
CRITICAL - 2023-11-23 11:32:24 --> Unknown column 'tm.sub_kelas' in 'group statement'
in SYSTEMPATH\Database\MySQLi\Connection.php on line 295.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(295): mysqli->query('SELECT 
    GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
    nama_mapel, 
    nama, 
    kelas
FROM (
    SELECT 
        tr.kelas AS kelas,
        GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
        nama_mapel, 
        nama
    FROM 
        tb_rombel tr
    LEFT JOIN 
        tb_guru_mapel gm ON tr.id = gm.id_rombel
    LEFT JOIN 
        tb_mapel tm ON tm.id = gm.id_mapel
    LEFT JOIN 
        tb_guru_sekolah gs ON gs.id = gm.id_guru
    LEFT JOIN 
        tb_guru tg ON tg.nuptk = gs.nuptk
    WHERE 
        tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
    GROUP BY 
        nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas

    UNION

    SELECT 
        tr.kelas AS kelas,
        GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
        (CASE WHEN jenis_mapel=1 THEN \'BK\' ELSE \'P5\' END) as nama_mapel, 
        nama, 1 as jenis, 1 as sub_kelas
    FROM 
        tb_rombel tr
    LEFT JOIN 
        tb_guru_lain gl ON tr.id = gl.id_rombel
    LEFT JOIN 
        tb_guru_sekolah gs ON gs.id = gl.id_guru
    LEFT JOIN 
        tb_guru tg ON tg.nuptk = gs.nuptk
    WHERE 
        tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
    GROUP BY 
        nama_mapel, nama, tr.kelas, tm.sub_kelas
) AS union_result
ORDER BY 
    kelas, nama_mapel, nama_rombel, nama, tm.jenis, tm.sub_kelas
', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(692): CodeIgniter\Database\MySQLi\Connection->execute('SELECT 
    GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
    nama_mapel, 
    nama, 
    kelas
FROM (
    SELECT 
        tr.kelas AS kelas,
        GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
        nama_mapel, 
        nama
    FROM 
        tb_rombel tr
    LEFT JOIN 
        tb_guru_mapel gm ON tr.id = gm.id_rombel
    LEFT JOIN 
        tb_mapel tm ON tm.id = gm.id_mapel
    LEFT JOIN 
        tb_guru_sekolah gs ON gs.id = gm.id_guru
    LEFT JOIN 
        tb_guru tg ON tg.nuptk = gs.nuptk
    WHERE 
        tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
    GROUP BY 
        nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas

    UNION

    SELECT 
        tr.kelas AS kelas,
        GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
        (CASE WHEN jenis_mapel=1 THEN \'BK\' ELSE \'P5\' END) as nama_mapel, 
        nama, 1 as jenis, 1 as sub_kelas
    FROM 
        tb_rombel tr
    LEFT JOIN 
        tb_guru_lain gl ON tr.id = gl.id_rombel
    LEFT JOIN 
        tb_guru_sekolah gs ON gs.id = gl.id_guru
    LEFT JOIN 
        tb_guru tg ON tg.nuptk = gs.nuptk
    WHERE 
        tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
    GROUP BY 
        nama_mapel, nama, tr.kelas, tm.sub_kelas
) AS union_result
ORDER BY 
    kelas, nama_mapel, nama_rombel, nama, tm.jenis, tm.sub_kelas
')
 3 SYSTEMPATH\Database\BaseConnection.php(606): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT 
    GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
    nama_mapel, 
    nama, 
    kelas
FROM (
    SELECT 
        tr.kelas AS kelas,
        GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
        nama_mapel, 
        nama
    FROM 
        tb_rombel tr
    LEFT JOIN 
        tb_guru_mapel gm ON tr.id = gm.id_rombel
    LEFT JOIN 
        tb_mapel tm ON tm.id = gm.id_mapel
    LEFT JOIN 
        tb_guru_sekolah gs ON gs.id = gm.id_guru
    LEFT JOIN 
        tb_guru tg ON tg.nuptk = gs.nuptk
    WHERE 
        tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
    GROUP BY 
        nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas

    UNION

    SELECT 
        tr.kelas AS kelas,
        GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
        (CASE WHEN jenis_mapel=1 THEN \'BK\' ELSE \'P5\' END) as nama_mapel, 
        nama, 1 as jenis, 1 as sub_kelas
    FROM 
        tb_rombel tr
    LEFT JOIN 
        tb_guru_lain gl ON tr.id = gl.id_rombel
    LEFT JOIN 
        tb_guru_sekolah gs ON gs.id = gl.id_guru
    LEFT JOIN 
        tb_guru tg ON tg.nuptk = gs.nuptk
    WHERE 
        tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
    GROUP BY 
        nama_mapel, nama, tr.kelas, tm.sub_kelas
) AS union_result
ORDER BY 
    kelas, nama_mapel, nama_rombel, nama, tm.jenis, tm.sub_kelas
')
 4 APPPATH\Models\M_user.php(252): CodeIgniter\Database\BaseConnection->query('SELECT 
    GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
    nama_mapel, 
    nama, 
    kelas
FROM (
    SELECT 
        tr.kelas AS kelas,
        GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
        nama_mapel, 
        nama
    FROM 
        tb_rombel tr
    LEFT JOIN 
        tb_guru_mapel gm ON tr.id = gm.id_rombel
    LEFT JOIN 
        tb_mapel tm ON tm.id = gm.id_mapel
    LEFT JOIN 
        tb_guru_sekolah gs ON gs.id = gm.id_guru
    LEFT JOIN 
        tb_guru tg ON tg.nuptk = gs.nuptk
    WHERE 
        tr.id_sekolah = :id_sekolah: AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
    GROUP BY 
        nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas

    UNION

    SELECT 
        tr.kelas AS kelas,
        GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
        (CASE WHEN jenis_mapel=1 THEN \'BK\' ELSE \'P5\' END) as nama_mapel, 
        nama, 1 as jenis, 1 as sub_kelas
    FROM 
        tb_rombel tr
    LEFT JOIN 
        tb_guru_lain gl ON tr.id = gl.id_rombel
    LEFT JOIN 
        tb_guru_sekolah gs ON gs.id = gl.id_guru
    LEFT JOIN 
        tb_guru tg ON tg.nuptk = gs.nuptk
    WHERE 
        tr.id_sekolah = :id_sekolah: AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
    GROUP BY 
        nama_mapel, nama, tr.kelas, tm.sub_kelas
) AS union_result
ORDER BY 
    kelas, nama_mapel, nama_rombel, nama, tm.jenis, tm.sub_kelas
', [...])
 5 APPPATH\Controllers\Admin.php(1967): App\Models\M_user->get_daftar_guru_mapel('5d784c9e-f35a-4654-9851-b94d22be6f1e')
 6 SYSTEMPATH\CodeIgniter.php(932): App\Controllers\Admin->guru_mapel()
 7 SYSTEMPATH\CodeIgniter.php(497): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Admin))
 8 SYSTEMPATH\CodeIgniter.php(366): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 9 FCPATH\index.php(67): CodeIgniter\CodeIgniter->run()
10 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\laragon\\www\\sim\\public\\index.php')
INFO - 2023-11-23 11:32:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2023-11-23 11:32:40 --> mysqli_sql_exception: Unknown column 'tm.sub_kelas' in 'group statement' in D:\laragon\www\sim\system\Database\MySQLi\Connection.php:295
Stack trace:
#0 D:\laragon\www\sim\system\Database\MySQLi\Connection.php(295): mysqli->query('SELECT \n    GRO...', 0)
#1 D:\laragon\www\sim\system\Database\BaseConnection.php(692): CodeIgniter\Database\MySQLi\Connection->execute('SELECT \n    GRO...')
#2 D:\laragon\www\sim\system\Database\BaseConnection.php(606): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT \n    GRO...')
#3 D:\laragon\www\sim\app\Models\M_user.php(252): CodeIgniter\Database\BaseConnection->query('SELECT \n    GRO...', Array)
#4 D:\laragon\www\sim\app\Controllers\Admin.php(1967): App\Models\M_user->get_daftar_guru_mapel('5d784c9e-f35a-4...')
#5 D:\laragon\www\sim\system\CodeIgniter.php(932): App\Controllers\Admin->guru_mapel()
#6 D:\laragon\www\sim\system\CodeIgniter.php(497): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Admin))
#7 D:\laragon\www\sim\system\CodeIgniter.php(366): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#8 D:\laragon\www\sim\public\index.php(67): CodeIgniter\CodeIgniter->run()
#9 D:\laragon\www\sim\system\Commands\Server\rewrite.php(47): require_once('D:\\laragon\\www\\...')
#10 {main}
CRITICAL - 2023-11-23 11:32:40 --> Unknown column 'tm.sub_kelas' in 'group statement'
in SYSTEMPATH\Database\MySQLi\Connection.php on line 295.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(295): mysqli->query('SELECT 
    GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
    nama_mapel, 
    nama, 
    kelas
FROM (
    SELECT 
        tr.kelas AS kelas,
        GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
        nama_mapel, 
        nama
    FROM 
        tb_rombel tr
    LEFT JOIN 
        tb_guru_mapel gm ON tr.id = gm.id_rombel
    LEFT JOIN 
        tb_mapel tm ON tm.id = gm.id_mapel
    LEFT JOIN 
        tb_guru_sekolah gs ON gs.id = gm.id_guru
    LEFT JOIN 
        tb_guru tg ON tg.nuptk = gs.nuptk
    WHERE 
        tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
    GROUP BY 
        nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas

    UNION

    SELECT 
        tr.kelas AS kelas,
        GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
        (CASE WHEN jenis_mapel=1 THEN \'BK\' ELSE \'P5\' END) as nama_mapel, 
        nama, 1 as jenis, 1 as sub_kelas
    FROM 
        tb_rombel tr
    LEFT JOIN 
        tb_guru_lain gl ON tr.id = gl.id_rombel
    LEFT JOIN 
        tb_guru_sekolah gs ON gs.id = gl.id_guru
    LEFT JOIN 
        tb_guru tg ON tg.nuptk = gs.nuptk
    WHERE 
        tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
    GROUP BY 
        nama_mapel, nama, tr.kelas, tm.sub_kelas
) AS union_result
ORDER BY 
    kelas, nama_mapel, nama_rombel, nama, jenis, sub_kelas
', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(692): CodeIgniter\Database\MySQLi\Connection->execute('SELECT 
    GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
    nama_mapel, 
    nama, 
    kelas
FROM (
    SELECT 
        tr.kelas AS kelas,
        GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
        nama_mapel, 
        nama
    FROM 
        tb_rombel tr
    LEFT JOIN 
        tb_guru_mapel gm ON tr.id = gm.id_rombel
    LEFT JOIN 
        tb_mapel tm ON tm.id = gm.id_mapel
    LEFT JOIN 
        tb_guru_sekolah gs ON gs.id = gm.id_guru
    LEFT JOIN 
        tb_guru tg ON tg.nuptk = gs.nuptk
    WHERE 
        tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
    GROUP BY 
        nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas

    UNION

    SELECT 
        tr.kelas AS kelas,
        GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
        (CASE WHEN jenis_mapel=1 THEN \'BK\' ELSE \'P5\' END) as nama_mapel, 
        nama, 1 as jenis, 1 as sub_kelas
    FROM 
        tb_rombel tr
    LEFT JOIN 
        tb_guru_lain gl ON tr.id = gl.id_rombel
    LEFT JOIN 
        tb_guru_sekolah gs ON gs.id = gl.id_guru
    LEFT JOIN 
        tb_guru tg ON tg.nuptk = gs.nuptk
    WHERE 
        tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
    GROUP BY 
        nama_mapel, nama, tr.kelas, tm.sub_kelas
) AS union_result
ORDER BY 
    kelas, nama_mapel, nama_rombel, nama, jenis, sub_kelas
')
 3 SYSTEMPATH\Database\BaseConnection.php(606): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT 
    GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
    nama_mapel, 
    nama, 
    kelas
FROM (
    SELECT 
        tr.kelas AS kelas,
        GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
        nama_mapel, 
        nama
    FROM 
        tb_rombel tr
    LEFT JOIN 
        tb_guru_mapel gm ON tr.id = gm.id_rombel
    LEFT JOIN 
        tb_mapel tm ON tm.id = gm.id_mapel
    LEFT JOIN 
        tb_guru_sekolah gs ON gs.id = gm.id_guru
    LEFT JOIN 
        tb_guru tg ON tg.nuptk = gs.nuptk
    WHERE 
        tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
    GROUP BY 
        nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas

    UNION

    SELECT 
        tr.kelas AS kelas,
        GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
        (CASE WHEN jenis_mapel=1 THEN \'BK\' ELSE \'P5\' END) as nama_mapel, 
        nama, 1 as jenis, 1 as sub_kelas
    FROM 
        tb_rombel tr
    LEFT JOIN 
        tb_guru_lain gl ON tr.id = gl.id_rombel
    LEFT JOIN 
        tb_guru_sekolah gs ON gs.id = gl.id_guru
    LEFT JOIN 
        tb_guru tg ON tg.nuptk = gs.nuptk
    WHERE 
        tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
    GROUP BY 
        nama_mapel, nama, tr.kelas, tm.sub_kelas
) AS union_result
ORDER BY 
    kelas, nama_mapel, nama_rombel, nama, jenis, sub_kelas
')
 4 APPPATH\Models\M_user.php(252): CodeIgniter\Database\BaseConnection->query('SELECT 
    GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
    nama_mapel, 
    nama, 
    kelas
FROM (
    SELECT 
        tr.kelas AS kelas,
        GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
        nama_mapel, 
        nama
    FROM 
        tb_rombel tr
    LEFT JOIN 
        tb_guru_mapel gm ON tr.id = gm.id_rombel
    LEFT JOIN 
        tb_mapel tm ON tm.id = gm.id_mapel
    LEFT JOIN 
        tb_guru_sekolah gs ON gs.id = gm.id_guru
    LEFT JOIN 
        tb_guru tg ON tg.nuptk = gs.nuptk
    WHERE 
        tr.id_sekolah = :id_sekolah: AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
    GROUP BY 
        nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas

    UNION

    SELECT 
        tr.kelas AS kelas,
        GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
        (CASE WHEN jenis_mapel=1 THEN \'BK\' ELSE \'P5\' END) as nama_mapel, 
        nama, 1 as jenis, 1 as sub_kelas
    FROM 
        tb_rombel tr
    LEFT JOIN 
        tb_guru_lain gl ON tr.id = gl.id_rombel
    LEFT JOIN 
        tb_guru_sekolah gs ON gs.id = gl.id_guru
    LEFT JOIN 
        tb_guru tg ON tg.nuptk = gs.nuptk
    WHERE 
        tr.id_sekolah = :id_sekolah: AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
    GROUP BY 
        nama_mapel, nama, tr.kelas, tm.sub_kelas
) AS union_result
ORDER BY 
    kelas, nama_mapel, nama_rombel, nama, jenis, sub_kelas
', [...])
 5 APPPATH\Controllers\Admin.php(1967): App\Models\M_user->get_daftar_guru_mapel('5d784c9e-f35a-4654-9851-b94d22be6f1e')
 6 SYSTEMPATH\CodeIgniter.php(932): App\Controllers\Admin->guru_mapel()
 7 SYSTEMPATH\CodeIgniter.php(497): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Admin))
 8 SYSTEMPATH\CodeIgniter.php(366): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 9 FCPATH\index.php(67): CodeIgniter\CodeIgniter->run()
10 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\laragon\\www\\sim\\public\\index.php')
INFO - 2023-11-23 11:33:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2023-11-23 11:33:17 --> mysqli_sql_exception: The used SELECT statements have a different number of columns in D:\laragon\www\sim\system\Database\MySQLi\Connection.php:295
Stack trace:
#0 D:\laragon\www\sim\system\Database\MySQLi\Connection.php(295): mysqli->query('SELECT \n    GRO...', 0)
#1 D:\laragon\www\sim\system\Database\BaseConnection.php(692): CodeIgniter\Database\MySQLi\Connection->execute('SELECT \n    GRO...')
#2 D:\laragon\www\sim\system\Database\BaseConnection.php(606): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT \n    GRO...')
#3 D:\laragon\www\sim\app\Models\M_user.php(252): CodeIgniter\Database\BaseConnection->query('SELECT \n    GRO...', Array)
#4 D:\laragon\www\sim\app\Controllers\Admin.php(1967): App\Models\M_user->get_daftar_guru_mapel('5d784c9e-f35a-4...')
#5 D:\laragon\www\sim\system\CodeIgniter.php(932): App\Controllers\Admin->guru_mapel()
#6 D:\laragon\www\sim\system\CodeIgniter.php(497): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Admin))
#7 D:\laragon\www\sim\system\CodeIgniter.php(366): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#8 D:\laragon\www\sim\public\index.php(67): CodeIgniter\CodeIgniter->run()
#9 D:\laragon\www\sim\system\Commands\Server\rewrite.php(47): require_once('D:\\laragon\\www\\...')
#10 {main}
CRITICAL - 2023-11-23 11:33:17 --> The used SELECT statements have a different number of columns
in SYSTEMPATH\Database\MySQLi\Connection.php on line 295.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(295): mysqli->query('SELECT 
    GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
    nama_mapel, 
    nama, 
    kelas
FROM (
    SELECT 
        tr.kelas AS kelas,
        GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
        nama_mapel, 
        nama
    FROM 
        tb_rombel tr
    LEFT JOIN 
        tb_guru_mapel gm ON tr.id = gm.id_rombel
    LEFT JOIN 
        tb_mapel tm ON tm.id = gm.id_mapel
    LEFT JOIN 
        tb_guru_sekolah gs ON gs.id = gm.id_guru
    LEFT JOIN 
        tb_guru tg ON tg.nuptk = gs.nuptk
    WHERE 
        tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
    GROUP BY 
        nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas

    UNION

    SELECT 
        tr.kelas AS kelas,
        GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
        (CASE WHEN jenis_mapel=1 THEN \'BK\' ELSE \'P5\' END) as nama_mapel, 
        nama, 1 as jenis, 1 as sub_kelas
    FROM 
        tb_rombel tr
    LEFT JOIN 
        tb_guru_lain gl ON tr.id = gl.id_rombel
    LEFT JOIN 
        tb_guru_sekolah gs ON gs.id = gl.id_guru
    LEFT JOIN 
        tb_guru tg ON tg.nuptk = gs.nuptk
    WHERE 
        tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
    GROUP BY 
        nama_mapel, nama, tr.kelas
) AS union_result
ORDER BY 
    kelas, nama_mapel, nama_rombel, nama, jenis, sub_kelas
', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(692): CodeIgniter\Database\MySQLi\Connection->execute('SELECT 
    GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
    nama_mapel, 
    nama, 
    kelas
FROM (
    SELECT 
        tr.kelas AS kelas,
        GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
        nama_mapel, 
        nama
    FROM 
        tb_rombel tr
    LEFT JOIN 
        tb_guru_mapel gm ON tr.id = gm.id_rombel
    LEFT JOIN 
        tb_mapel tm ON tm.id = gm.id_mapel
    LEFT JOIN 
        tb_guru_sekolah gs ON gs.id = gm.id_guru
    LEFT JOIN 
        tb_guru tg ON tg.nuptk = gs.nuptk
    WHERE 
        tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
    GROUP BY 
        nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas

    UNION

    SELECT 
        tr.kelas AS kelas,
        GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
        (CASE WHEN jenis_mapel=1 THEN \'BK\' ELSE \'P5\' END) as nama_mapel, 
        nama, 1 as jenis, 1 as sub_kelas
    FROM 
        tb_rombel tr
    LEFT JOIN 
        tb_guru_lain gl ON tr.id = gl.id_rombel
    LEFT JOIN 
        tb_guru_sekolah gs ON gs.id = gl.id_guru
    LEFT JOIN 
        tb_guru tg ON tg.nuptk = gs.nuptk
    WHERE 
        tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
    GROUP BY 
        nama_mapel, nama, tr.kelas
) AS union_result
ORDER BY 
    kelas, nama_mapel, nama_rombel, nama, jenis, sub_kelas
')
 3 SYSTEMPATH\Database\BaseConnection.php(606): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT 
    GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
    nama_mapel, 
    nama, 
    kelas
FROM (
    SELECT 
        tr.kelas AS kelas,
        GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
        nama_mapel, 
        nama
    FROM 
        tb_rombel tr
    LEFT JOIN 
        tb_guru_mapel gm ON tr.id = gm.id_rombel
    LEFT JOIN 
        tb_mapel tm ON tm.id = gm.id_mapel
    LEFT JOIN 
        tb_guru_sekolah gs ON gs.id = gm.id_guru
    LEFT JOIN 
        tb_guru tg ON tg.nuptk = gs.nuptk
    WHERE 
        tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
    GROUP BY 
        nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas

    UNION

    SELECT 
        tr.kelas AS kelas,
        GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
        (CASE WHEN jenis_mapel=1 THEN \'BK\' ELSE \'P5\' END) as nama_mapel, 
        nama, 1 as jenis, 1 as sub_kelas
    FROM 
        tb_rombel tr
    LEFT JOIN 
        tb_guru_lain gl ON tr.id = gl.id_rombel
    LEFT JOIN 
        tb_guru_sekolah gs ON gs.id = gl.id_guru
    LEFT JOIN 
        tb_guru tg ON tg.nuptk = gs.nuptk
    WHERE 
        tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
    GROUP BY 
        nama_mapel, nama, tr.kelas
) AS union_result
ORDER BY 
    kelas, nama_mapel, nama_rombel, nama, jenis, sub_kelas
')
 4 APPPATH\Models\M_user.php(252): CodeIgniter\Database\BaseConnection->query('SELECT 
    GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
    nama_mapel, 
    nama, 
    kelas
FROM (
    SELECT 
        tr.kelas AS kelas,
        GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
        nama_mapel, 
        nama
    FROM 
        tb_rombel tr
    LEFT JOIN 
        tb_guru_mapel gm ON tr.id = gm.id_rombel
    LEFT JOIN 
        tb_mapel tm ON tm.id = gm.id_mapel
    LEFT JOIN 
        tb_guru_sekolah gs ON gs.id = gm.id_guru
    LEFT JOIN 
        tb_guru tg ON tg.nuptk = gs.nuptk
    WHERE 
        tr.id_sekolah = :id_sekolah: AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
    GROUP BY 
        nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas

    UNION

    SELECT 
        tr.kelas AS kelas,
        GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
        (CASE WHEN jenis_mapel=1 THEN \'BK\' ELSE \'P5\' END) as nama_mapel, 
        nama, 1 as jenis, 1 as sub_kelas
    FROM 
        tb_rombel tr
    LEFT JOIN 
        tb_guru_lain gl ON tr.id = gl.id_rombel
    LEFT JOIN 
        tb_guru_sekolah gs ON gs.id = gl.id_guru
    LEFT JOIN 
        tb_guru tg ON tg.nuptk = gs.nuptk
    WHERE 
        tr.id_sekolah = :id_sekolah: AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
    GROUP BY 
        nama_mapel, nama, tr.kelas
) AS union_result
ORDER BY 
    kelas, nama_mapel, nama_rombel, nama, jenis, sub_kelas
', [...])
 5 APPPATH\Controllers\Admin.php(1967): App\Models\M_user->get_daftar_guru_mapel('5d784c9e-f35a-4654-9851-b94d22be6f1e')
 6 SYSTEMPATH\CodeIgniter.php(932): App\Controllers\Admin->guru_mapel()
 7 SYSTEMPATH\CodeIgniter.php(497): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Admin))
 8 SYSTEMPATH\CodeIgniter.php(366): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 9 FCPATH\index.php(67): CodeIgniter\CodeIgniter->run()
10 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\laragon\\www\\sim\\public\\index.php')
INFO - 2023-11-23 11:34:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2023-11-23 11:39:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2023-11-23 11:40:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2023-11-23 11:40:47 --> mysqli_sql_exception: Unknown column 'nama_mapel' in 'field list' in D:\laragon\www\sim\system\Database\MySQLi\Connection.php:295
Stack trace:
#0 D:\laragon\www\sim\system\Database\MySQLi\Connection.php(295): mysqli->query('SELECT GROUP_CO...', 0)
#1 D:\laragon\www\sim\system\Database\BaseConnection.php(692): CodeIgniter\Database\MySQLi\Connection->execute('SELECT GROUP_CO...')
#2 D:\laragon\www\sim\system\Database\BaseConnection.php(606): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT GROUP_CO...')
#3 D:\laragon\www\sim\app\Models\M_user.php(230): CodeIgniter\Database\BaseConnection->query('SELECT GROUP_CO...', Array)
#4 D:\laragon\www\sim\app\Controllers\Admin.php(1967): App\Models\M_user->get_daftar_guru_mapel('5d784c9e-f35a-4...')
#5 D:\laragon\www\sim\system\CodeIgniter.php(932): App\Controllers\Admin->guru_mapel()
#6 D:\laragon\www\sim\system\CodeIgniter.php(497): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Admin))
#7 D:\laragon\www\sim\system\CodeIgniter.php(366): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#8 D:\laragon\www\sim\public\index.php(67): CodeIgniter\CodeIgniter->run()
#9 D:\laragon\www\sim\system\Commands\Server\rewrite.php(47): require_once('D:\\laragon\\www\\...')
#10 {main}
CRITICAL - 2023-11-23 11:40:47 --> Unknown column 'nama_mapel' in 'field list'
in SYSTEMPATH\Database\MySQLi\Connection.php on line 295.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(295): mysqli->query('SELECT GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, nama_mapel, nama, tr.kelas
                FROM tb_rombel tr
                LEFT JOIN tb_guru_lain gl ON tr.id = gl.id_rombel
                LEFT JOIN tb_guru_sekolah gs ON gs.id = gm.id_guru
                LEFT JOIN tb_guru tg ON tg.nuptk = gs.nuptk
                WHERE tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
                GROUP BY nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
                ORDER BY tr.kelas, tm.nama_mapel, nama_rombel, tg.nama, gl.jenis', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(692): CodeIgniter\Database\MySQLi\Connection->execute('SELECT GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, nama_mapel, nama, tr.kelas
                FROM tb_rombel tr
                LEFT JOIN tb_guru_lain gl ON tr.id = gl.id_rombel
                LEFT JOIN tb_guru_sekolah gs ON gs.id = gm.id_guru
                LEFT JOIN tb_guru tg ON tg.nuptk = gs.nuptk
                WHERE tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
                GROUP BY nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
                ORDER BY tr.kelas, tm.nama_mapel, nama_rombel, tg.nama, gl.jenis')
 3 SYSTEMPATH\Database\BaseConnection.php(606): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, nama_mapel, nama, tr.kelas
                FROM tb_rombel tr
                LEFT JOIN tb_guru_lain gl ON tr.id = gl.id_rombel
                LEFT JOIN tb_guru_sekolah gs ON gs.id = gm.id_guru
                LEFT JOIN tb_guru tg ON tg.nuptk = gs.nuptk
                WHERE tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
                GROUP BY nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
                ORDER BY tr.kelas, tm.nama_mapel, nama_rombel, tg.nama, gl.jenis')
 4 APPPATH\Models\M_user.php(230): CodeIgniter\Database\BaseConnection->query('SELECT GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, nama_mapel, nama, tr.kelas
                FROM tb_rombel tr
                LEFT JOIN tb_guru_lain gl ON tr.id = gl.id_rombel
                LEFT JOIN tb_guru_sekolah gs ON gs.id = gm.id_guru
                LEFT JOIN tb_guru tg ON tg.nuptk = gs.nuptk
                WHERE tr.id_sekolah = :id_sekolah: AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
                GROUP BY nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
                ORDER BY tr.kelas, tm.nama_mapel, nama_rombel, tg.nama, gl.jenis', [...])
 5 APPPATH\Controllers\Admin.php(1967): App\Models\M_user->get_daftar_guru_mapel('5d784c9e-f35a-4654-9851-b94d22be6f1e')
 6 SYSTEMPATH\CodeIgniter.php(932): App\Controllers\Admin->guru_mapel()
 7 SYSTEMPATH\CodeIgniter.php(497): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Admin))
 8 SYSTEMPATH\CodeIgniter.php(366): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 9 FCPATH\index.php(67): CodeIgniter\CodeIgniter->run()
10 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\laragon\\www\\sim\\public\\index.php')
INFO - 2023-11-23 11:41:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2023-11-23 11:41:57 --> mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ') as nama_mapel, nama, tr.kelas
                FROM tb_rombel tr
              ' at line 1 in D:\laragon\www\sim\system\Database\MySQLi\Connection.php:295
Stack trace:
#0 D:\laragon\www\sim\system\Database\MySQLi\Connection.php(295): mysqli->query('SELECT GROUP_CO...', 0)
#1 D:\laragon\www\sim\system\Database\BaseConnection.php(692): CodeIgniter\Database\MySQLi\Connection->execute('SELECT GROUP_CO...')
#2 D:\laragon\www\sim\system\Database\BaseConnection.php(606): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT GROUP_CO...')
#3 D:\laragon\www\sim\app\Models\M_user.php(230): CodeIgniter\Database\BaseConnection->query('SELECT GROUP_CO...', Array)
#4 D:\laragon\www\sim\app\Controllers\Admin.php(1967): App\Models\M_user->get_daftar_guru_mapel('5d784c9e-f35a-4...')
#5 D:\laragon\www\sim\system\CodeIgniter.php(932): App\Controllers\Admin->guru_mapel()
#6 D:\laragon\www\sim\system\CodeIgniter.php(497): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Admin))
#7 D:\laragon\www\sim\system\CodeIgniter.php(366): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#8 D:\laragon\www\sim\public\index.php(67): CodeIgniter\CodeIgniter->run()
#9 D:\laragon\www\sim\system\Commands\Server\rewrite.php(47): require_once('D:\\laragon\\www\\...')
#10 {main}
CRITICAL - 2023-11-23 11:41:57 --> You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ') as nama_mapel, nama, tr.kelas
                FROM tb_rombel tr
              ' at line 1
in SYSTEMPATH\Database\MySQLi\Connection.php on line 295.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(295): mysqli->query('SELECT GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, CASE WHEN jenis=\'1\' THEN \'BK\' ELSE \'P5\' END) as nama_mapel, nama, tr.kelas
                FROM tb_rombel tr
                LEFT JOIN tb_guru_lain gl ON tr.id = gl.id_rombel
                LEFT JOIN tb_guru_sekolah gs ON gs.id = gm.id_guru
                LEFT JOIN tb_guru tg ON tg.nuptk = gs.nuptk
                WHERE tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
                GROUP BY nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
                ORDER BY tr.kelas, tm.nama_mapel, nama_rombel, tg.nama, gl.jenis', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(692): CodeIgniter\Database\MySQLi\Connection->execute('SELECT GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, CASE WHEN jenis=\'1\' THEN \'BK\' ELSE \'P5\' END) as nama_mapel, nama, tr.kelas
                FROM tb_rombel tr
                LEFT JOIN tb_guru_lain gl ON tr.id = gl.id_rombel
                LEFT JOIN tb_guru_sekolah gs ON gs.id = gm.id_guru
                LEFT JOIN tb_guru tg ON tg.nuptk = gs.nuptk
                WHERE tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
                GROUP BY nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
                ORDER BY tr.kelas, tm.nama_mapel, nama_rombel, tg.nama, gl.jenis')
 3 SYSTEMPATH\Database\BaseConnection.php(606): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, CASE WHEN jenis=\'1\' THEN \'BK\' ELSE \'P5\' END) as nama_mapel, nama, tr.kelas
                FROM tb_rombel tr
                LEFT JOIN tb_guru_lain gl ON tr.id = gl.id_rombel
                LEFT JOIN tb_guru_sekolah gs ON gs.id = gm.id_guru
                LEFT JOIN tb_guru tg ON tg.nuptk = gs.nuptk
                WHERE tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
                GROUP BY nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
                ORDER BY tr.kelas, tm.nama_mapel, nama_rombel, tg.nama, gl.jenis')
 4 APPPATH\Models\M_user.php(230): CodeIgniter\Database\BaseConnection->query('SELECT GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, CASE WHEN jenis=\'1\' THEN \'BK\' ELSE \'P5\' END) as nama_mapel, nama, tr.kelas
                FROM tb_rombel tr
                LEFT JOIN tb_guru_lain gl ON tr.id = gl.id_rombel
                LEFT JOIN tb_guru_sekolah gs ON gs.id = gm.id_guru
                LEFT JOIN tb_guru tg ON tg.nuptk = gs.nuptk
                WHERE tr.id_sekolah = :id_sekolah: AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
                GROUP BY nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
                ORDER BY tr.kelas, tm.nama_mapel, nama_rombel, tg.nama, gl.jenis', [...])
 5 APPPATH\Controllers\Admin.php(1967): App\Models\M_user->get_daftar_guru_mapel('5d784c9e-f35a-4654-9851-b94d22be6f1e')
 6 SYSTEMPATH\CodeIgniter.php(932): App\Controllers\Admin->guru_mapel()
 7 SYSTEMPATH\CodeIgniter.php(497): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Admin))
 8 SYSTEMPATH\CodeIgniter.php(366): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 9 FCPATH\index.php(67): CodeIgniter\CodeIgniter->run()
10 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\laragon\\www\\sim\\public\\index.php')
INFO - 2023-11-23 11:42:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2023-11-23 11:42:11 --> mysqli_sql_exception: Unknown column 'jenis' in 'field list' in D:\laragon\www\sim\system\Database\MySQLi\Connection.php:295
Stack trace:
#0 D:\laragon\www\sim\system\Database\MySQLi\Connection.php(295): mysqli->query('SELECT GROUP_CO...', 0)
#1 D:\laragon\www\sim\system\Database\BaseConnection.php(692): CodeIgniter\Database\MySQLi\Connection->execute('SELECT GROUP_CO...')
#2 D:\laragon\www\sim\system\Database\BaseConnection.php(606): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT GROUP_CO...')
#3 D:\laragon\www\sim\app\Models\M_user.php(230): CodeIgniter\Database\BaseConnection->query('SELECT GROUP_CO...', Array)
#4 D:\laragon\www\sim\app\Controllers\Admin.php(1967): App\Models\M_user->get_daftar_guru_mapel('5d784c9e-f35a-4...')
#5 D:\laragon\www\sim\system\CodeIgniter.php(932): App\Controllers\Admin->guru_mapel()
#6 D:\laragon\www\sim\system\CodeIgniter.php(497): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Admin))
#7 D:\laragon\www\sim\system\CodeIgniter.php(366): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#8 D:\laragon\www\sim\public\index.php(67): CodeIgniter\CodeIgniter->run()
#9 D:\laragon\www\sim\system\Commands\Server\rewrite.php(47): require_once('D:\\laragon\\www\\...')
#10 {main}
CRITICAL - 2023-11-23 11:42:11 --> Unknown column 'jenis' in 'field list'
in SYSTEMPATH\Database\MySQLi\Connection.php on line 295.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(295): mysqli->query('SELECT GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, (CASE WHEN jenis=\'1\' THEN \'BK\' ELSE \'P5\' END) as nama_mapel, nama, tr.kelas
                FROM tb_rombel tr
                LEFT JOIN tb_guru_lain gl ON tr.id = gl.id_rombel
                LEFT JOIN tb_guru_sekolah gs ON gs.id = gm.id_guru
                LEFT JOIN tb_guru tg ON tg.nuptk = gs.nuptk
                WHERE tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
                GROUP BY nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
                ORDER BY tr.kelas, tm.nama_mapel, nama_rombel, tg.nama, gl.jenis', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(692): CodeIgniter\Database\MySQLi\Connection->execute('SELECT GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, (CASE WHEN jenis=\'1\' THEN \'BK\' ELSE \'P5\' END) as nama_mapel, nama, tr.kelas
                FROM tb_rombel tr
                LEFT JOIN tb_guru_lain gl ON tr.id = gl.id_rombel
                LEFT JOIN tb_guru_sekolah gs ON gs.id = gm.id_guru
                LEFT JOIN tb_guru tg ON tg.nuptk = gs.nuptk
                WHERE tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
                GROUP BY nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
                ORDER BY tr.kelas, tm.nama_mapel, nama_rombel, tg.nama, gl.jenis')
 3 SYSTEMPATH\Database\BaseConnection.php(606): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, (CASE WHEN jenis=\'1\' THEN \'BK\' ELSE \'P5\' END) as nama_mapel, nama, tr.kelas
                FROM tb_rombel tr
                LEFT JOIN tb_guru_lain gl ON tr.id = gl.id_rombel
                LEFT JOIN tb_guru_sekolah gs ON gs.id = gm.id_guru
                LEFT JOIN tb_guru tg ON tg.nuptk = gs.nuptk
                WHERE tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
                GROUP BY nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
                ORDER BY tr.kelas, tm.nama_mapel, nama_rombel, tg.nama, gl.jenis')
 4 APPPATH\Models\M_user.php(230): CodeIgniter\Database\BaseConnection->query('SELECT GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, (CASE WHEN jenis=\'1\' THEN \'BK\' ELSE \'P5\' END) as nama_mapel, nama, tr.kelas
                FROM tb_rombel tr
                LEFT JOIN tb_guru_lain gl ON tr.id = gl.id_rombel
                LEFT JOIN tb_guru_sekolah gs ON gs.id = gm.id_guru
                LEFT JOIN tb_guru tg ON tg.nuptk = gs.nuptk
                WHERE tr.id_sekolah = :id_sekolah: AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
                GROUP BY nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
                ORDER BY tr.kelas, tm.nama_mapel, nama_rombel, tg.nama, gl.jenis', [...])
 5 APPPATH\Controllers\Admin.php(1967): App\Models\M_user->get_daftar_guru_mapel('5d784c9e-f35a-4654-9851-b94d22be6f1e')
 6 SYSTEMPATH\CodeIgniter.php(932): App\Controllers\Admin->guru_mapel()
 7 SYSTEMPATH\CodeIgniter.php(497): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Admin))
 8 SYSTEMPATH\CodeIgniter.php(366): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 9 FCPATH\index.php(67): CodeIgniter\CodeIgniter->run()
10 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\laragon\\www\\sim\\public\\index.php')
INFO - 2023-11-23 12:25:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2023-11-23 12:25:42 --> mysqli_sql_exception: Unknown column 'gm.id_guru' in 'on clause' in D:\laragon\www\sim\system\Database\MySQLi\Connection.php:295
Stack trace:
#0 D:\laragon\www\sim\system\Database\MySQLi\Connection.php(295): mysqli->query('SELECT GROUP_CO...', 0)
#1 D:\laragon\www\sim\system\Database\BaseConnection.php(692): CodeIgniter\Database\MySQLi\Connection->execute('SELECT GROUP_CO...')
#2 D:\laragon\www\sim\system\Database\BaseConnection.php(606): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT GROUP_CO...')
#3 D:\laragon\www\sim\app\Models\M_user.php(230): CodeIgniter\Database\BaseConnection->query('SELECT GROUP_CO...', Array)
#4 D:\laragon\www\sim\app\Controllers\Admin.php(1967): App\Models\M_user->get_daftar_guru_mapel('5d784c9e-f35a-4...')
#5 D:\laragon\www\sim\system\CodeIgniter.php(932): App\Controllers\Admin->guru_mapel()
#6 D:\laragon\www\sim\system\CodeIgniter.php(497): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Admin))
#7 D:\laragon\www\sim\system\CodeIgniter.php(366): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#8 D:\laragon\www\sim\public\index.php(67): CodeIgniter\CodeIgniter->run()
#9 D:\laragon\www\sim\system\Commands\Server\rewrite.php(47): require_once('D:\\laragon\\www\\...')
#10 {main}
CRITICAL - 2023-11-23 12:25:42 --> Unknown column 'gm.id_guru' in 'on clause'
in SYSTEMPATH\Database\MySQLi\Connection.php on line 295.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(295): mysqli->query('SELECT GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, (CASE WHEN jenis_mapel=\'1\' THEN \'BK\' ELSE \'P5\' END) as nama_mapel, nama, tr.kelas
                FROM tb_rombel tr
                LEFT JOIN tb_guru_lain gl ON tr.id = gl.id_rombel
                LEFT JOIN tb_guru_sekolah gs ON gs.id = gm.id_guru
                LEFT JOIN tb_guru tg ON tg.nuptk = gs.nuptk
                WHERE tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
                GROUP BY nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
                ORDER BY tr.kelas, tm.nama_mapel, nama_rombel, tg.nama, gl.jenis', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(692): CodeIgniter\Database\MySQLi\Connection->execute('SELECT GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, (CASE WHEN jenis_mapel=\'1\' THEN \'BK\' ELSE \'P5\' END) as nama_mapel, nama, tr.kelas
                FROM tb_rombel tr
                LEFT JOIN tb_guru_lain gl ON tr.id = gl.id_rombel
                LEFT JOIN tb_guru_sekolah gs ON gs.id = gm.id_guru
                LEFT JOIN tb_guru tg ON tg.nuptk = gs.nuptk
                WHERE tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
                GROUP BY nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
                ORDER BY tr.kelas, tm.nama_mapel, nama_rombel, tg.nama, gl.jenis')
 3 SYSTEMPATH\Database\BaseConnection.php(606): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, (CASE WHEN jenis_mapel=\'1\' THEN \'BK\' ELSE \'P5\' END) as nama_mapel, nama, tr.kelas
                FROM tb_rombel tr
                LEFT JOIN tb_guru_lain gl ON tr.id = gl.id_rombel
                LEFT JOIN tb_guru_sekolah gs ON gs.id = gm.id_guru
                LEFT JOIN tb_guru tg ON tg.nuptk = gs.nuptk
                WHERE tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
                GROUP BY nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
                ORDER BY tr.kelas, tm.nama_mapel, nama_rombel, tg.nama, gl.jenis')
 4 APPPATH\Models\M_user.php(230): CodeIgniter\Database\BaseConnection->query('SELECT GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, (CASE WHEN jenis_mapel=\'1\' THEN \'BK\' ELSE \'P5\' END) as nama_mapel, nama, tr.kelas
                FROM tb_rombel tr
                LEFT JOIN tb_guru_lain gl ON tr.id = gl.id_rombel
                LEFT JOIN tb_guru_sekolah gs ON gs.id = gm.id_guru
                LEFT JOIN tb_guru tg ON tg.nuptk = gs.nuptk
                WHERE tr.id_sekolah = :id_sekolah: AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
                GROUP BY nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
                ORDER BY tr.kelas, tm.nama_mapel, nama_rombel, tg.nama, gl.jenis', [...])
 5 APPPATH\Controllers\Admin.php(1967): App\Models\M_user->get_daftar_guru_mapel('5d784c9e-f35a-4654-9851-b94d22be6f1e')
 6 SYSTEMPATH\CodeIgniter.php(932): App\Controllers\Admin->guru_mapel()
 7 SYSTEMPATH\CodeIgniter.php(497): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Admin))
 8 SYSTEMPATH\CodeIgniter.php(366): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 9 FCPATH\index.php(67): CodeIgniter\CodeIgniter->run()
10 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\laragon\\www\\sim\\public\\index.php')
INFO - 2023-11-23 12:26:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2023-11-23 12:26:16 --> mysqli_sql_exception: Unknown column 'tm.jenis' in 'group statement' in D:\laragon\www\sim\system\Database\MySQLi\Connection.php:295
Stack trace:
#0 D:\laragon\www\sim\system\Database\MySQLi\Connection.php(295): mysqli->query('SELECT GROUP_CO...', 0)
#1 D:\laragon\www\sim\system\Database\BaseConnection.php(692): CodeIgniter\Database\MySQLi\Connection->execute('SELECT GROUP_CO...')
#2 D:\laragon\www\sim\system\Database\BaseConnection.php(606): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT GROUP_CO...')
#3 D:\laragon\www\sim\app\Models\M_user.php(230): CodeIgniter\Database\BaseConnection->query('SELECT GROUP_CO...', Array)
#4 D:\laragon\www\sim\app\Controllers\Admin.php(1967): App\Models\M_user->get_daftar_guru_mapel('5d784c9e-f35a-4...')
#5 D:\laragon\www\sim\system\CodeIgniter.php(932): App\Controllers\Admin->guru_mapel()
#6 D:\laragon\www\sim\system\CodeIgniter.php(497): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Admin))
#7 D:\laragon\www\sim\system\CodeIgniter.php(366): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#8 D:\laragon\www\sim\public\index.php(67): CodeIgniter\CodeIgniter->run()
#9 D:\laragon\www\sim\system\Commands\Server\rewrite.php(47): require_once('D:\\laragon\\www\\...')
#10 {main}
CRITICAL - 2023-11-23 12:26:16 --> Unknown column 'tm.jenis' in 'group statement'
in SYSTEMPATH\Database\MySQLi\Connection.php on line 295.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(295): mysqli->query('SELECT GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, (CASE WHEN jenis_mapel=\'1\' THEN \'BK\' ELSE \'P5\' END) as nama_mapel, nama, tr.kelas
                FROM tb_rombel tr
                LEFT JOIN tb_guru_lain gl ON tr.id = gl.id_rombel
                LEFT JOIN tb_guru_sekolah gs ON gs.id = gl.id_guru
                LEFT JOIN tb_guru tg ON tg.nuptk = gs.nuptk
                WHERE tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
                GROUP BY nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
                ORDER BY tr.kelas, tm.nama_mapel, nama_rombel, tg.nama, gl.jenis', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(692): CodeIgniter\Database\MySQLi\Connection->execute('SELECT GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, (CASE WHEN jenis_mapel=\'1\' THEN \'BK\' ELSE \'P5\' END) as nama_mapel, nama, tr.kelas
                FROM tb_rombel tr
                LEFT JOIN tb_guru_lain gl ON tr.id = gl.id_rombel
                LEFT JOIN tb_guru_sekolah gs ON gs.id = gl.id_guru
                LEFT JOIN tb_guru tg ON tg.nuptk = gs.nuptk
                WHERE tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
                GROUP BY nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
                ORDER BY tr.kelas, tm.nama_mapel, nama_rombel, tg.nama, gl.jenis')
 3 SYSTEMPATH\Database\BaseConnection.php(606): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, (CASE WHEN jenis_mapel=\'1\' THEN \'BK\' ELSE \'P5\' END) as nama_mapel, nama, tr.kelas
                FROM tb_rombel tr
                LEFT JOIN tb_guru_lain gl ON tr.id = gl.id_rombel
                LEFT JOIN tb_guru_sekolah gs ON gs.id = gl.id_guru
                LEFT JOIN tb_guru tg ON tg.nuptk = gs.nuptk
                WHERE tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
                GROUP BY nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
                ORDER BY tr.kelas, tm.nama_mapel, nama_rombel, tg.nama, gl.jenis')
 4 APPPATH\Models\M_user.php(230): CodeIgniter\Database\BaseConnection->query('SELECT GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, (CASE WHEN jenis_mapel=\'1\' THEN \'BK\' ELSE \'P5\' END) as nama_mapel, nama, tr.kelas
                FROM tb_rombel tr
                LEFT JOIN tb_guru_lain gl ON tr.id = gl.id_rombel
                LEFT JOIN tb_guru_sekolah gs ON gs.id = gl.id_guru
                LEFT JOIN tb_guru tg ON tg.nuptk = gs.nuptk
                WHERE tr.id_sekolah = :id_sekolah: AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
                GROUP BY nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
                ORDER BY tr.kelas, tm.nama_mapel, nama_rombel, tg.nama, gl.jenis', [...])
 5 APPPATH\Controllers\Admin.php(1967): App\Models\M_user->get_daftar_guru_mapel('5d784c9e-f35a-4654-9851-b94d22be6f1e')
 6 SYSTEMPATH\CodeIgniter.php(932): App\Controllers\Admin->guru_mapel()
 7 SYSTEMPATH\CodeIgniter.php(497): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Admin))
 8 SYSTEMPATH\CodeIgniter.php(366): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 9 FCPATH\index.php(67): CodeIgniter\CodeIgniter->run()
10 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\laragon\\www\\sim\\public\\index.php')
INFO - 2023-11-23 12:26:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2023-11-23 12:26:48 --> mysqli_sql_exception: Unknown column 'tm.nama_mapel' in 'order clause' in D:\laragon\www\sim\system\Database\MySQLi\Connection.php:295
Stack trace:
#0 D:\laragon\www\sim\system\Database\MySQLi\Connection.php(295): mysqli->query('SELECT GROUP_CO...', 0)
#1 D:\laragon\www\sim\system\Database\BaseConnection.php(692): CodeIgniter\Database\MySQLi\Connection->execute('SELECT GROUP_CO...')
#2 D:\laragon\www\sim\system\Database\BaseConnection.php(606): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT GROUP_CO...')
#3 D:\laragon\www\sim\app\Models\M_user.php(230): CodeIgniter\Database\BaseConnection->query('SELECT GROUP_CO...', Array)
#4 D:\laragon\www\sim\app\Controllers\Admin.php(1967): App\Models\M_user->get_daftar_guru_mapel('5d784c9e-f35a-4...')
#5 D:\laragon\www\sim\system\CodeIgniter.php(932): App\Controllers\Admin->guru_mapel()
#6 D:\laragon\www\sim\system\CodeIgniter.php(497): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Admin))
#7 D:\laragon\www\sim\system\CodeIgniter.php(366): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#8 D:\laragon\www\sim\public\index.php(67): CodeIgniter\CodeIgniter->run()
#9 D:\laragon\www\sim\system\Commands\Server\rewrite.php(47): require_once('D:\\laragon\\www\\...')
#10 {main}
CRITICAL - 2023-11-23 12:26:48 --> Unknown column 'tm.nama_mapel' in 'order clause'
in SYSTEMPATH\Database\MySQLi\Connection.php on line 295.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(295): mysqli->query('SELECT GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, (CASE WHEN jenis_mapel=\'1\' THEN \'BK\' ELSE \'P5\' END) as nama_mapel, nama, tr.kelas
                FROM tb_rombel tr
                LEFT JOIN tb_guru_lain gl ON tr.id = gl.id_rombel
                LEFT JOIN tb_guru_sekolah gs ON gs.id = gl.id_guru
                LEFT JOIN tb_guru tg ON tg.nuptk = gs.nuptk
                WHERE tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
                GROUP BY nama_mapel, nama, tr.kelas, jenis_mapel
                ORDER BY tr.kelas, tm.nama_mapel, nama_rombel, tg.nama, gl.jenis', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(692): CodeIgniter\Database\MySQLi\Connection->execute('SELECT GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, (CASE WHEN jenis_mapel=\'1\' THEN \'BK\' ELSE \'P5\' END) as nama_mapel, nama, tr.kelas
                FROM tb_rombel tr
                LEFT JOIN tb_guru_lain gl ON tr.id = gl.id_rombel
                LEFT JOIN tb_guru_sekolah gs ON gs.id = gl.id_guru
                LEFT JOIN tb_guru tg ON tg.nuptk = gs.nuptk
                WHERE tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
                GROUP BY nama_mapel, nama, tr.kelas, jenis_mapel
                ORDER BY tr.kelas, tm.nama_mapel, nama_rombel, tg.nama, gl.jenis')
 3 SYSTEMPATH\Database\BaseConnection.php(606): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, (CASE WHEN jenis_mapel=\'1\' THEN \'BK\' ELSE \'P5\' END) as nama_mapel, nama, tr.kelas
                FROM tb_rombel tr
                LEFT JOIN tb_guru_lain gl ON tr.id = gl.id_rombel
                LEFT JOIN tb_guru_sekolah gs ON gs.id = gl.id_guru
                LEFT JOIN tb_guru tg ON tg.nuptk = gs.nuptk
                WHERE tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
                GROUP BY nama_mapel, nama, tr.kelas, jenis_mapel
                ORDER BY tr.kelas, tm.nama_mapel, nama_rombel, tg.nama, gl.jenis')
 4 APPPATH\Models\M_user.php(230): CodeIgniter\Database\BaseConnection->query('SELECT GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, (CASE WHEN jenis_mapel=\'1\' THEN \'BK\' ELSE \'P5\' END) as nama_mapel, nama, tr.kelas
                FROM tb_rombel tr
                LEFT JOIN tb_guru_lain gl ON tr.id = gl.id_rombel
                LEFT JOIN tb_guru_sekolah gs ON gs.id = gl.id_guru
                LEFT JOIN tb_guru tg ON tg.nuptk = gs.nuptk
                WHERE tr.id_sekolah = :id_sekolah: AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
                GROUP BY nama_mapel, nama, tr.kelas, jenis_mapel
                ORDER BY tr.kelas, tm.nama_mapel, nama_rombel, tg.nama, gl.jenis', [...])
 5 APPPATH\Controllers\Admin.php(1967): App\Models\M_user->get_daftar_guru_mapel('5d784c9e-f35a-4654-9851-b94d22be6f1e')
 6 SYSTEMPATH\CodeIgniter.php(932): App\Controllers\Admin->guru_mapel()
 7 SYSTEMPATH\CodeIgniter.php(497): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Admin))
 8 SYSTEMPATH\CodeIgniter.php(366): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 9 FCPATH\index.php(67): CodeIgniter\CodeIgniter->run()
10 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\laragon\\www\\sim\\public\\index.php')
INFO - 2023-11-23 12:27:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2023-11-23 12:27:12 --> mysqli_sql_exception: Unknown column 'gl.jenis' in 'order clause' in D:\laragon\www\sim\system\Database\MySQLi\Connection.php:295
Stack trace:
#0 D:\laragon\www\sim\system\Database\MySQLi\Connection.php(295): mysqli->query('SELECT GROUP_CO...', 0)
#1 D:\laragon\www\sim\system\Database\BaseConnection.php(692): CodeIgniter\Database\MySQLi\Connection->execute('SELECT GROUP_CO...')
#2 D:\laragon\www\sim\system\Database\BaseConnection.php(606): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT GROUP_CO...')
#3 D:\laragon\www\sim\app\Models\M_user.php(230): CodeIgniter\Database\BaseConnection->query('SELECT GROUP_CO...', Array)
#4 D:\laragon\www\sim\app\Controllers\Admin.php(1967): App\Models\M_user->get_daftar_guru_mapel('5d784c9e-f35a-4...')
#5 D:\laragon\www\sim\system\CodeIgniter.php(932): App\Controllers\Admin->guru_mapel()
#6 D:\laragon\www\sim\system\CodeIgniter.php(497): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Admin))
#7 D:\laragon\www\sim\system\CodeIgniter.php(366): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#8 D:\laragon\www\sim\public\index.php(67): CodeIgniter\CodeIgniter->run()
#9 D:\laragon\www\sim\system\Commands\Server\rewrite.php(47): require_once('D:\\laragon\\www\\...')
#10 {main}
CRITICAL - 2023-11-23 12:27:12 --> Unknown column 'gl.jenis' in 'order clause'
in SYSTEMPATH\Database\MySQLi\Connection.php on line 295.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(295): mysqli->query('SELECT GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, (CASE WHEN jenis_mapel=\'1\' THEN \'BK\' ELSE \'P5\' END) as nama_mapel, nama, tr.kelas
                FROM tb_rombel tr
                LEFT JOIN tb_guru_lain gl ON tr.id = gl.id_rombel
                LEFT JOIN tb_guru_sekolah gs ON gs.id = gl.id_guru
                LEFT JOIN tb_guru tg ON tg.nuptk = gs.nuptk
                WHERE tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
                GROUP BY nama_mapel, nama, tr.kelas, jenis_mapel
                ORDER BY tr.kelas, nama_mapel, nama_rombel, tg.nama, gl.jenis', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(692): CodeIgniter\Database\MySQLi\Connection->execute('SELECT GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, (CASE WHEN jenis_mapel=\'1\' THEN \'BK\' ELSE \'P5\' END) as nama_mapel, nama, tr.kelas
                FROM tb_rombel tr
                LEFT JOIN tb_guru_lain gl ON tr.id = gl.id_rombel
                LEFT JOIN tb_guru_sekolah gs ON gs.id = gl.id_guru
                LEFT JOIN tb_guru tg ON tg.nuptk = gs.nuptk
                WHERE tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
                GROUP BY nama_mapel, nama, tr.kelas, jenis_mapel
                ORDER BY tr.kelas, nama_mapel, nama_rombel, tg.nama, gl.jenis')
 3 SYSTEMPATH\Database\BaseConnection.php(606): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, (CASE WHEN jenis_mapel=\'1\' THEN \'BK\' ELSE \'P5\' END) as nama_mapel, nama, tr.kelas
                FROM tb_rombel tr
                LEFT JOIN tb_guru_lain gl ON tr.id = gl.id_rombel
                LEFT JOIN tb_guru_sekolah gs ON gs.id = gl.id_guru
                LEFT JOIN tb_guru tg ON tg.nuptk = gs.nuptk
                WHERE tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
                GROUP BY nama_mapel, nama, tr.kelas, jenis_mapel
                ORDER BY tr.kelas, nama_mapel, nama_rombel, tg.nama, gl.jenis')
 4 APPPATH\Models\M_user.php(230): CodeIgniter\Database\BaseConnection->query('SELECT GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, (CASE WHEN jenis_mapel=\'1\' THEN \'BK\' ELSE \'P5\' END) as nama_mapel, nama, tr.kelas
                FROM tb_rombel tr
                LEFT JOIN tb_guru_lain gl ON tr.id = gl.id_rombel
                LEFT JOIN tb_guru_sekolah gs ON gs.id = gl.id_guru
                LEFT JOIN tb_guru tg ON tg.nuptk = gs.nuptk
                WHERE tr.id_sekolah = :id_sekolah: AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
                GROUP BY nama_mapel, nama, tr.kelas, jenis_mapel
                ORDER BY tr.kelas, nama_mapel, nama_rombel, tg.nama, gl.jenis', [...])
 5 APPPATH\Controllers\Admin.php(1967): App\Models\M_user->get_daftar_guru_mapel('5d784c9e-f35a-4654-9851-b94d22be6f1e')
 6 SYSTEMPATH\CodeIgniter.php(932): App\Controllers\Admin->guru_mapel()
 7 SYSTEMPATH\CodeIgniter.php(497): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Admin))
 8 SYSTEMPATH\CodeIgniter.php(366): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 9 FCPATH\index.php(67): CodeIgniter\CodeIgniter->run()
10 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\laragon\\www\\sim\\public\\index.php')
INFO - 2023-11-23 12:27:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2023-11-23 12:29:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2023-11-23 12:30:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2023-11-23 12:31:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2023-11-23 12:31:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2023-11-23 12:31:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2023-11-23 12:31:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2023-11-23 12:32:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2023-11-23 12:34:51 --> mysqli_sql_exception: Unknown column 'tr.kelas' in 'field list' in D:\laragon\www\sim\system\Database\MySQLi\Connection.php:295
Stack trace:
#0 D:\laragon\www\sim\system\Database\MySQLi\Connection.php(295): mysqli->query('SELECT \n    GRO...', 0)
#1 D:\laragon\www\sim\system\Database\BaseConnection.php(692): CodeIgniter\Database\MySQLi\Connection->execute('SELECT \n    GRO...')
#2 D:\laragon\www\sim\system\Database\BaseConnection.php(606): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT \n    GRO...')
#3 D:\laragon\www\sim\app\Models\M_user.php(286): CodeIgniter\Database\BaseConnection->query('SELECT \n    GRO...', Array)
#4 D:\laragon\www\sim\app\Controllers\Admin.php(1967): App\Models\M_user->get_daftar_guru_mapel('5d784c9e-f35a-4...')
#5 D:\laragon\www\sim\system\CodeIgniter.php(932): App\Controllers\Admin->guru_mapel()
#6 D:\laragon\www\sim\system\CodeIgniter.php(497): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Admin))
#7 D:\laragon\www\sim\system\CodeIgniter.php(366): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#8 D:\laragon\www\sim\public\index.php(67): CodeIgniter\CodeIgniter->run()
#9 D:\laragon\www\sim\system\Commands\Server\rewrite.php(47): require_once('D:\\laragon\\www\\...')
#10 {main}
CRITICAL - 2023-11-23 12:34:51 --> Unknown column 'tr.kelas' in 'field list'
in SYSTEMPATH\Database\MySQLi\Connection.php on line 295.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(295): mysqli->query('SELECT 
    GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
    nama_mapel, 
    nama, 
    tr.kelas
FROM 
    (
        SELECT 
            nama_rombel, 
            nama_mapel, 
            nama, 
            tr.kelas
        FROM 
            (
                -- Query pertama
                SELECT 
                    nama_rombel, 
                    nama_mapel, 
                    nama, 
                    tr.kelas
                FROM 
                    tb_rombel tr
                LEFT JOIN 
                    tb_guru_mapel gm ON tr.id = gm.id_rombel
                LEFT JOIN 
                    tb_mapel tm ON tm.id = gm.id_mapel
                LEFT JOIN 
                    tb_guru_sekolah gs ON gs.id = gm.id_guru
                LEFT JOIN 
                    tb_guru tg ON tg.nuptk = gs.nuptk
                WHERE 
                    tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
                GROUP BY 
                    nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
            ) AS query_pertama
            
        UNION ALL
        
        SELECT 
            nama_rombel, 
            (CASE 
                WHEN jenis_mapel=\'1\' THEN \'BK\' 
                WHEN jenis_mapel=\'2\' THEN \'P5\'
                ELSE NULL END) as nama_mapel, 
            nama, 
            tr.kelas
        FROM 
            tb_rombel tr
        LEFT JOIN 
            tb_guru_lain gl ON tr.id = gl.id_rombel
        LEFT JOIN 
            tb_guru_sekolah gs ON gs.id = gl.id_guru
        LEFT JOIN 
            tb_guru tg ON tg.nuptk = gs.nuptk
        WHERE 
            tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
        GROUP BY 
            nama_mapel, nama, tr.kelas, nama_mapel
    ) AS union_result
GROUP BY 
    nama_mapel, nama, tr.kelas, nama_mapel
ORDER BY 
    tr.kelas, nama_mapel, nama_rombel, nama
', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(692): CodeIgniter\Database\MySQLi\Connection->execute('SELECT 
    GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
    nama_mapel, 
    nama, 
    tr.kelas
FROM 
    (
        SELECT 
            nama_rombel, 
            nama_mapel, 
            nama, 
            tr.kelas
        FROM 
            (
                -- Query pertama
                SELECT 
                    nama_rombel, 
                    nama_mapel, 
                    nama, 
                    tr.kelas
                FROM 
                    tb_rombel tr
                LEFT JOIN 
                    tb_guru_mapel gm ON tr.id = gm.id_rombel
                LEFT JOIN 
                    tb_mapel tm ON tm.id = gm.id_mapel
                LEFT JOIN 
                    tb_guru_sekolah gs ON gs.id = gm.id_guru
                LEFT JOIN 
                    tb_guru tg ON tg.nuptk = gs.nuptk
                WHERE 
                    tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
                GROUP BY 
                    nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
            ) AS query_pertama
            
        UNION ALL
        
        SELECT 
            nama_rombel, 
            (CASE 
                WHEN jenis_mapel=\'1\' THEN \'BK\' 
                WHEN jenis_mapel=\'2\' THEN \'P5\'
                ELSE NULL END) as nama_mapel, 
            nama, 
            tr.kelas
        FROM 
            tb_rombel tr
        LEFT JOIN 
            tb_guru_lain gl ON tr.id = gl.id_rombel
        LEFT JOIN 
            tb_guru_sekolah gs ON gs.id = gl.id_guru
        LEFT JOIN 
            tb_guru tg ON tg.nuptk = gs.nuptk
        WHERE 
            tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
        GROUP BY 
            nama_mapel, nama, tr.kelas, nama_mapel
    ) AS union_result
GROUP BY 
    nama_mapel, nama, tr.kelas, nama_mapel
ORDER BY 
    tr.kelas, nama_mapel, nama_rombel, nama
')
 3 SYSTEMPATH\Database\BaseConnection.php(606): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT 
    GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
    nama_mapel, 
    nama, 
    tr.kelas
FROM 
    (
        SELECT 
            nama_rombel, 
            nama_mapel, 
            nama, 
            tr.kelas
        FROM 
            (
                -- Query pertama
                SELECT 
                    nama_rombel, 
                    nama_mapel, 
                    nama, 
                    tr.kelas
                FROM 
                    tb_rombel tr
                LEFT JOIN 
                    tb_guru_mapel gm ON tr.id = gm.id_rombel
                LEFT JOIN 
                    tb_mapel tm ON tm.id = gm.id_mapel
                LEFT JOIN 
                    tb_guru_sekolah gs ON gs.id = gm.id_guru
                LEFT JOIN 
                    tb_guru tg ON tg.nuptk = gs.nuptk
                WHERE 
                    tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
                GROUP BY 
                    nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
            ) AS query_pertama
            
        UNION ALL
        
        SELECT 
            nama_rombel, 
            (CASE 
                WHEN jenis_mapel=\'1\' THEN \'BK\' 
                WHEN jenis_mapel=\'2\' THEN \'P5\'
                ELSE NULL END) as nama_mapel, 
            nama, 
            tr.kelas
        FROM 
            tb_rombel tr
        LEFT JOIN 
            tb_guru_lain gl ON tr.id = gl.id_rombel
        LEFT JOIN 
            tb_guru_sekolah gs ON gs.id = gl.id_guru
        LEFT JOIN 
            tb_guru tg ON tg.nuptk = gs.nuptk
        WHERE 
            tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
        GROUP BY 
            nama_mapel, nama, tr.kelas, nama_mapel
    ) AS union_result
GROUP BY 
    nama_mapel, nama, tr.kelas, nama_mapel
ORDER BY 
    tr.kelas, nama_mapel, nama_rombel, nama
')
 4 APPPATH\Models\M_user.php(286): CodeIgniter\Database\BaseConnection->query('SELECT 
    GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
    nama_mapel, 
    nama, 
    tr.kelas
FROM 
    (
        SELECT 
            nama_rombel, 
            nama_mapel, 
            nama, 
            tr.kelas
        FROM 
            (
                -- Query pertama
                SELECT 
                    nama_rombel, 
                    nama_mapel, 
                    nama, 
                    tr.kelas
                FROM 
                    tb_rombel tr
                LEFT JOIN 
                    tb_guru_mapel gm ON tr.id = gm.id_rombel
                LEFT JOIN 
                    tb_mapel tm ON tm.id = gm.id_mapel
                LEFT JOIN 
                    tb_guru_sekolah gs ON gs.id = gm.id_guru
                LEFT JOIN 
                    tb_guru tg ON tg.nuptk = gs.nuptk
                WHERE 
                    tr.id_sekolah = :id_sekolah: AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
                GROUP BY 
                    nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
            ) AS query_pertama
            
        UNION ALL
        
        SELECT 
            nama_rombel, 
            (CASE 
                WHEN jenis_mapel=\'1\' THEN \'BK\' 
                WHEN jenis_mapel=\'2\' THEN \'P5\'
                ELSE NULL END) as nama_mapel, 
            nama, 
            tr.kelas
        FROM 
            tb_rombel tr
        LEFT JOIN 
            tb_guru_lain gl ON tr.id = gl.id_rombel
        LEFT JOIN 
            tb_guru_sekolah gs ON gs.id = gl.id_guru
        LEFT JOIN 
            tb_guru tg ON tg.nuptk = gs.nuptk
        WHERE 
            tr.id_sekolah = :id_sekolah: AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
        GROUP BY 
            nama_mapel, nama, tr.kelas, nama_mapel
    ) AS union_result
GROUP BY 
    nama_mapel, nama, tr.kelas, nama_mapel
ORDER BY 
    tr.kelas, nama_mapel, nama_rombel, nama
', [...])
 5 APPPATH\Controllers\Admin.php(1967): App\Models\M_user->get_daftar_guru_mapel('5d784c9e-f35a-4654-9851-b94d22be6f1e')
 6 SYSTEMPATH\CodeIgniter.php(932): App\Controllers\Admin->guru_mapel()
 7 SYSTEMPATH\CodeIgniter.php(497): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Admin))
 8 SYSTEMPATH\CodeIgniter.php(366): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 9 FCPATH\index.php(67): CodeIgniter\CodeIgniter->run()
10 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\laragon\\www\\sim\\public\\index.php')
INFO - 2023-11-23 12:35:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2023-11-23 12:35:00 --> mysqli_sql_exception: Unknown column 'tr.kelas' in 'field list' in D:\laragon\www\sim\system\Database\MySQLi\Connection.php:295
Stack trace:
#0 D:\laragon\www\sim\system\Database\MySQLi\Connection.php(295): mysqli->query('SELECT \n    GRO...', 0)
#1 D:\laragon\www\sim\system\Database\BaseConnection.php(692): CodeIgniter\Database\MySQLi\Connection->execute('SELECT \n    GRO...')
#2 D:\laragon\www\sim\system\Database\BaseConnection.php(606): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT \n    GRO...')
#3 D:\laragon\www\sim\app\Models\M_user.php(286): CodeIgniter\Database\BaseConnection->query('SELECT \n    GRO...', Array)
#4 D:\laragon\www\sim\app\Controllers\Admin.php(1967): App\Models\M_user->get_daftar_guru_mapel('5d784c9e-f35a-4...')
#5 D:\laragon\www\sim\system\CodeIgniter.php(932): App\Controllers\Admin->guru_mapel()
#6 D:\laragon\www\sim\system\CodeIgniter.php(497): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Admin))
#7 D:\laragon\www\sim\system\CodeIgniter.php(366): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#8 D:\laragon\www\sim\public\index.php(67): CodeIgniter\CodeIgniter->run()
#9 D:\laragon\www\sim\system\Commands\Server\rewrite.php(47): require_once('D:\\laragon\\www\\...')
#10 {main}
CRITICAL - 2023-11-23 12:35:00 --> Unknown column 'tr.kelas' in 'field list'
in SYSTEMPATH\Database\MySQLi\Connection.php on line 295.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(295): mysqli->query('SELECT 
    GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
    nama_mapel, 
    nama, 
    tr.kelas
FROM 
    (
        SELECT 
            nama_rombel, 
            nama_mapel, 
            nama, 
            tr.kelas
        FROM 
            (
                -- Query pertama
                SELECT 
                    nama_rombel, 
                    nama_mapel, 
                    nama, 
                    tr.kelas
                FROM 
                    tb_rombel tr
                LEFT JOIN 
                    tb_guru_mapel gm ON tr.id = gm.id_rombel
                LEFT JOIN 
                    tb_mapel tm ON tm.id = gm.id_mapel
                LEFT JOIN 
                    tb_guru_sekolah gs ON gs.id = gm.id_guru
                LEFT JOIN 
                    tb_guru tg ON tg.nuptk = gs.nuptk
                WHERE 
                    tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
                GROUP BY 
                    nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
            ) AS query_pertama
            
        UNION ALL
        
        SELECT 
            nama_rombel, 
            (CASE 
                WHEN jenis_mapel=\'1\' THEN \'BK\' 
                WHEN jenis_mapel=\'2\' THEN \'P5\'
                ELSE NULL END) as nama_mapel, 
            nama, 
            tr.kelas
        FROM 
            tb_rombel tr
        LEFT JOIN 
            tb_guru_lain gl ON tr.id = gl.id_rombel
        LEFT JOIN 
            tb_guru_sekolah gs ON gs.id = gl.id_guru
        LEFT JOIN 
            tb_guru tg ON tg.nuptk = gs.nuptk
        WHERE 
            tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
        GROUP BY 
            nama_mapel, nama, tr.kelas, nama_mapel
    ) AS union_result
GROUP BY 
    nama_mapel, nama, tr.kelas, nama_mapel
ORDER BY 
    tr.kelas, nama_mapel, nama_rombel, nama
', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(692): CodeIgniter\Database\MySQLi\Connection->execute('SELECT 
    GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
    nama_mapel, 
    nama, 
    tr.kelas
FROM 
    (
        SELECT 
            nama_rombel, 
            nama_mapel, 
            nama, 
            tr.kelas
        FROM 
            (
                -- Query pertama
                SELECT 
                    nama_rombel, 
                    nama_mapel, 
                    nama, 
                    tr.kelas
                FROM 
                    tb_rombel tr
                LEFT JOIN 
                    tb_guru_mapel gm ON tr.id = gm.id_rombel
                LEFT JOIN 
                    tb_mapel tm ON tm.id = gm.id_mapel
                LEFT JOIN 
                    tb_guru_sekolah gs ON gs.id = gm.id_guru
                LEFT JOIN 
                    tb_guru tg ON tg.nuptk = gs.nuptk
                WHERE 
                    tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
                GROUP BY 
                    nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
            ) AS query_pertama
            
        UNION ALL
        
        SELECT 
            nama_rombel, 
            (CASE 
                WHEN jenis_mapel=\'1\' THEN \'BK\' 
                WHEN jenis_mapel=\'2\' THEN \'P5\'
                ELSE NULL END) as nama_mapel, 
            nama, 
            tr.kelas
        FROM 
            tb_rombel tr
        LEFT JOIN 
            tb_guru_lain gl ON tr.id = gl.id_rombel
        LEFT JOIN 
            tb_guru_sekolah gs ON gs.id = gl.id_guru
        LEFT JOIN 
            tb_guru tg ON tg.nuptk = gs.nuptk
        WHERE 
            tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
        GROUP BY 
            nama_mapel, nama, tr.kelas, nama_mapel
    ) AS union_result
GROUP BY 
    nama_mapel, nama, tr.kelas, nama_mapel
ORDER BY 
    tr.kelas, nama_mapel, nama_rombel, nama
')
 3 SYSTEMPATH\Database\BaseConnection.php(606): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT 
    GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
    nama_mapel, 
    nama, 
    tr.kelas
FROM 
    (
        SELECT 
            nama_rombel, 
            nama_mapel, 
            nama, 
            tr.kelas
        FROM 
            (
                -- Query pertama
                SELECT 
                    nama_rombel, 
                    nama_mapel, 
                    nama, 
                    tr.kelas
                FROM 
                    tb_rombel tr
                LEFT JOIN 
                    tb_guru_mapel gm ON tr.id = gm.id_rombel
                LEFT JOIN 
                    tb_mapel tm ON tm.id = gm.id_mapel
                LEFT JOIN 
                    tb_guru_sekolah gs ON gs.id = gm.id_guru
                LEFT JOIN 
                    tb_guru tg ON tg.nuptk = gs.nuptk
                WHERE 
                    tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
                GROUP BY 
                    nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
            ) AS query_pertama
            
        UNION ALL
        
        SELECT 
            nama_rombel, 
            (CASE 
                WHEN jenis_mapel=\'1\' THEN \'BK\' 
                WHEN jenis_mapel=\'2\' THEN \'P5\'
                ELSE NULL END) as nama_mapel, 
            nama, 
            tr.kelas
        FROM 
            tb_rombel tr
        LEFT JOIN 
            tb_guru_lain gl ON tr.id = gl.id_rombel
        LEFT JOIN 
            tb_guru_sekolah gs ON gs.id = gl.id_guru
        LEFT JOIN 
            tb_guru tg ON tg.nuptk = gs.nuptk
        WHERE 
            tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
        GROUP BY 
            nama_mapel, nama, tr.kelas, nama_mapel
    ) AS union_result
GROUP BY 
    nama_mapel, nama, tr.kelas, nama_mapel
ORDER BY 
    tr.kelas, nama_mapel, nama_rombel, nama
')
 4 APPPATH\Models\M_user.php(286): CodeIgniter\Database\BaseConnection->query('SELECT 
    GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
    nama_mapel, 
    nama, 
    tr.kelas
FROM 
    (
        SELECT 
            nama_rombel, 
            nama_mapel, 
            nama, 
            tr.kelas
        FROM 
            (
                -- Query pertama
                SELECT 
                    nama_rombel, 
                    nama_mapel, 
                    nama, 
                    tr.kelas
                FROM 
                    tb_rombel tr
                LEFT JOIN 
                    tb_guru_mapel gm ON tr.id = gm.id_rombel
                LEFT JOIN 
                    tb_mapel tm ON tm.id = gm.id_mapel
                LEFT JOIN 
                    tb_guru_sekolah gs ON gs.id = gm.id_guru
                LEFT JOIN 
                    tb_guru tg ON tg.nuptk = gs.nuptk
                WHERE 
                    tr.id_sekolah = :id_sekolah: AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
                GROUP BY 
                    nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
            ) AS query_pertama
            
        UNION ALL
        
        SELECT 
            nama_rombel, 
            (CASE 
                WHEN jenis_mapel=\'1\' THEN \'BK\' 
                WHEN jenis_mapel=\'2\' THEN \'P5\'
                ELSE NULL END) as nama_mapel, 
            nama, 
            tr.kelas
        FROM 
            tb_rombel tr
        LEFT JOIN 
            tb_guru_lain gl ON tr.id = gl.id_rombel
        LEFT JOIN 
            tb_guru_sekolah gs ON gs.id = gl.id_guru
        LEFT JOIN 
            tb_guru tg ON tg.nuptk = gs.nuptk
        WHERE 
            tr.id_sekolah = :id_sekolah: AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
        GROUP BY 
            nama_mapel, nama, tr.kelas, nama_mapel
    ) AS union_result
GROUP BY 
    nama_mapel, nama, tr.kelas, nama_mapel
ORDER BY 
    tr.kelas, nama_mapel, nama_rombel, nama
', [...])
 5 APPPATH\Controllers\Admin.php(1967): App\Models\M_user->get_daftar_guru_mapel('5d784c9e-f35a-4654-9851-b94d22be6f1e')
 6 SYSTEMPATH\CodeIgniter.php(932): App\Controllers\Admin->guru_mapel()
 7 SYSTEMPATH\CodeIgniter.php(497): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Admin))
 8 SYSTEMPATH\CodeIgniter.php(366): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 9 FCPATH\index.php(67): CodeIgniter\CodeIgniter->run()
10 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\laragon\\www\\sim\\public\\index.php')
INFO - 2023-11-23 12:37:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2023-11-23 12:39:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2023-11-23 12:39:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2023-11-23 12:45:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2023-11-23 12:45:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2023-11-23 12:46:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
CRITICAL - 2023-11-23 12:47:02 --> Undefined variable $id_rombel
in APPPATH\Controllers\Admin.php on line 2014.
 1 APPPATH\Controllers\Admin.php(2014): CodeIgniter\Debug\Exceptions->errorHandler(2, 'Undefined variable $id_rombel', 'D:\\laragon\\www\\sim\\app\\Controllers\\Admin.php', 2014)
 2 SYSTEMPATH\CodeIgniter.php(932): App\Controllers\Admin->simpan_guru_mapel()
 3 SYSTEMPATH\CodeIgniter.php(497): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Admin))
 4 SYSTEMPATH\CodeIgniter.php(366): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 FCPATH\index.php(67): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\laragon\\www\\sim\\public\\index.php')
ERROR - 2023-11-23 14:49:08 --> mysqli_sql_exception: Unknown column 'urutangrup' in 'order clause' in D:\laragon\www\sim\system\Database\MySQLi\Connection.php:295
Stack trace:
#0 D:\laragon\www\sim\system\Database\MySQLi\Connection.php(295): mysqli->query('SELECT \n    GRO...', 0)
#1 D:\laragon\www\sim\system\Database\BaseConnection.php(692): CodeIgniter\Database\MySQLi\Connection->execute('SELECT \n    GRO...')
#2 D:\laragon\www\sim\system\Database\BaseConnection.php(606): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT \n    GRO...')
#3 D:\laragon\www\sim\app\Models\M_user.php(256): CodeIgniter\Database\BaseConnection->query('SELECT \n    GRO...', Array)
#4 D:\laragon\www\sim\app\Controllers\Admin.php(1967): App\Models\M_user->get_daftar_guru_mapel('5d784c9e-f35a-4...')
#5 D:\laragon\www\sim\system\CodeIgniter.php(932): App\Controllers\Admin->guru_mapel()
#6 D:\laragon\www\sim\system\CodeIgniter.php(497): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Admin))
#7 D:\laragon\www\sim\system\CodeIgniter.php(366): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#8 D:\laragon\www\sim\public\index.php(67): CodeIgniter\CodeIgniter->run()
#9 D:\laragon\www\sim\system\Commands\Server\rewrite.php(47): require_once('D:\\laragon\\www\\...')
#10 {main}
CRITICAL - 2023-11-23 14:49:08 --> Unknown column 'urutangrup' in 'order clause'
in SYSTEMPATH\Database\MySQLi\Connection.php on line 295.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(295): mysqli->query('SELECT 
    GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
    nama_mapel, 
    nama, 
    kelas
FROM 
    (
        SELECT 
            nama_rombel, 
            nama_mapel, 
            nama, 
            tr.kelas AS kelas
        FROM 
            tb_rombel tr
        LEFT JOIN 
            tb_guru_mapel gm ON tr.id = gm.id_rombel
        LEFT JOIN 
            tb_mapel tm ON tm.id = gm.id_mapel
        LEFT JOIN 
            tb_guru_sekolah gs ON gs.id = gm.id_guru
        LEFT JOIN 
            tb_guru tg ON tg.nuptk = gs.nuptk
        WHERE 
            tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
        GROUP BY 
            nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
        
        
    ) AS union_result
GROUP BY 
    nama_mapel, nama, kelas
ORDER BY 
    kelas, urutangrup, nama_mapel, nama_rombel, nama
', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(692): CodeIgniter\Database\MySQLi\Connection->execute('SELECT 
    GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
    nama_mapel, 
    nama, 
    kelas
FROM 
    (
        SELECT 
            nama_rombel, 
            nama_mapel, 
            nama, 
            tr.kelas AS kelas
        FROM 
            tb_rombel tr
        LEFT JOIN 
            tb_guru_mapel gm ON tr.id = gm.id_rombel
        LEFT JOIN 
            tb_mapel tm ON tm.id = gm.id_mapel
        LEFT JOIN 
            tb_guru_sekolah gs ON gs.id = gm.id_guru
        LEFT JOIN 
            tb_guru tg ON tg.nuptk = gs.nuptk
        WHERE 
            tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
        GROUP BY 
            nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
        
        
    ) AS union_result
GROUP BY 
    nama_mapel, nama, kelas
ORDER BY 
    kelas, urutangrup, nama_mapel, nama_rombel, nama
')
 3 SYSTEMPATH\Database\BaseConnection.php(606): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT 
    GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
    nama_mapel, 
    nama, 
    kelas
FROM 
    (
        SELECT 
            nama_rombel, 
            nama_mapel, 
            nama, 
            tr.kelas AS kelas
        FROM 
            tb_rombel tr
        LEFT JOIN 
            tb_guru_mapel gm ON tr.id = gm.id_rombel
        LEFT JOIN 
            tb_mapel tm ON tm.id = gm.id_mapel
        LEFT JOIN 
            tb_guru_sekolah gs ON gs.id = gm.id_guru
        LEFT JOIN 
            tb_guru tg ON tg.nuptk = gs.nuptk
        WHERE 
            tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
        GROUP BY 
            nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
        
        
    ) AS union_result
GROUP BY 
    nama_mapel, nama, kelas
ORDER BY 
    kelas, urutangrup, nama_mapel, nama_rombel, nama
')
 4 APPPATH\Models\M_user.php(256): CodeIgniter\Database\BaseConnection->query('SELECT 
    GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
    nama_mapel, 
    nama, 
    kelas
FROM 
    (
        SELECT 
            nama_rombel, 
            nama_mapel, 
            nama, 
            tr.kelas AS kelas
        FROM 
            tb_rombel tr
        LEFT JOIN 
            tb_guru_mapel gm ON tr.id = gm.id_rombel
        LEFT JOIN 
            tb_mapel tm ON tm.id = gm.id_mapel
        LEFT JOIN 
            tb_guru_sekolah gs ON gs.id = gm.id_guru
        LEFT JOIN 
            tb_guru tg ON tg.nuptk = gs.nuptk
        WHERE 
            tr.id_sekolah = :id_sekolah: AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
        GROUP BY 
            nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
        
        
    ) AS union_result
GROUP BY 
    nama_mapel, nama, kelas
ORDER BY 
    kelas, urutangrup, nama_mapel, nama_rombel, nama
', [...])
 5 APPPATH\Controllers\Admin.php(1967): App\Models\M_user->get_daftar_guru_mapel('5d784c9e-f35a-4654-9851-b94d22be6f1e')
 6 SYSTEMPATH\CodeIgniter.php(932): App\Controllers\Admin->guru_mapel()
 7 SYSTEMPATH\CodeIgniter.php(497): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Admin))
 8 SYSTEMPATH\CodeIgniter.php(366): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 9 FCPATH\index.php(67): CodeIgniter\CodeIgniter->run()
10 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\laragon\\www\\sim\\public\\index.php')
INFO - 2023-11-23 14:49:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2023-11-23 14:49:23 --> mysqli_sql_exception: Unknown column 'urutangrup' in 'order clause' in D:\laragon\www\sim\system\Database\MySQLi\Connection.php:295
Stack trace:
#0 D:\laragon\www\sim\system\Database\MySQLi\Connection.php(295): mysqli->query('SELECT \n    GRO...', 0)
#1 D:\laragon\www\sim\system\Database\BaseConnection.php(692): CodeIgniter\Database\MySQLi\Connection->execute('SELECT \n    GRO...')
#2 D:\laragon\www\sim\system\Database\BaseConnection.php(606): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT \n    GRO...')
#3 D:\laragon\www\sim\app\Models\M_user.php(256): CodeIgniter\Database\BaseConnection->query('SELECT \n    GRO...', Array)
#4 D:\laragon\www\sim\app\Controllers\Admin.php(1967): App\Models\M_user->get_daftar_guru_mapel('5d784c9e-f35a-4...')
#5 D:\laragon\www\sim\system\CodeIgniter.php(932): App\Controllers\Admin->guru_mapel()
#6 D:\laragon\www\sim\system\CodeIgniter.php(497): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Admin))
#7 D:\laragon\www\sim\system\CodeIgniter.php(366): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#8 D:\laragon\www\sim\public\index.php(67): CodeIgniter\CodeIgniter->run()
#9 D:\laragon\www\sim\system\Commands\Server\rewrite.php(47): require_once('D:\\laragon\\www\\...')
#10 {main}
CRITICAL - 2023-11-23 14:49:23 --> Unknown column 'urutangrup' in 'order clause'
in SYSTEMPATH\Database\MySQLi\Connection.php on line 295.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(295): mysqli->query('SELECT 
    GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
    nama_mapel, 
    nama, 
    kelas
FROM 
    (
        SELECT 
            nama_rombel, 
            nama_mapel, 
            nama, 
            tr.kelas AS kelas
        FROM 
            tb_rombel tr
        LEFT JOIN 
            tb_guru_mapel gm ON tr.id = gm.id_rombel
        LEFT JOIN 
            tb_mapel tm ON tm.id = gm.id_mapel
        LEFT JOIN 
            tb_guru_sekolah gs ON gs.id = gm.id_guru
        LEFT JOIN 
            tb_guru tg ON tg.nuptk = gs.nuptk
        WHERE 
            tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
        GROUP BY 
            nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
        
        
    ) AS union_result
GROUP BY 
    nama_mapel, nama, kelas
ORDER BY 
    kelas, urutangrup, nama_mapel, nama_rombel, nama
', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(692): CodeIgniter\Database\MySQLi\Connection->execute('SELECT 
    GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
    nama_mapel, 
    nama, 
    kelas
FROM 
    (
        SELECT 
            nama_rombel, 
            nama_mapel, 
            nama, 
            tr.kelas AS kelas
        FROM 
            tb_rombel tr
        LEFT JOIN 
            tb_guru_mapel gm ON tr.id = gm.id_rombel
        LEFT JOIN 
            tb_mapel tm ON tm.id = gm.id_mapel
        LEFT JOIN 
            tb_guru_sekolah gs ON gs.id = gm.id_guru
        LEFT JOIN 
            tb_guru tg ON tg.nuptk = gs.nuptk
        WHERE 
            tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
        GROUP BY 
            nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
        
        
    ) AS union_result
GROUP BY 
    nama_mapel, nama, kelas
ORDER BY 
    kelas, urutangrup, nama_mapel, nama_rombel, nama
')
 3 SYSTEMPATH\Database\BaseConnection.php(606): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT 
    GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
    nama_mapel, 
    nama, 
    kelas
FROM 
    (
        SELECT 
            nama_rombel, 
            nama_mapel, 
            nama, 
            tr.kelas AS kelas
        FROM 
            tb_rombel tr
        LEFT JOIN 
            tb_guru_mapel gm ON tr.id = gm.id_rombel
        LEFT JOIN 
            tb_mapel tm ON tm.id = gm.id_mapel
        LEFT JOIN 
            tb_guru_sekolah gs ON gs.id = gm.id_guru
        LEFT JOIN 
            tb_guru tg ON tg.nuptk = gs.nuptk
        WHERE 
            tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
        GROUP BY 
            nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
        
        
    ) AS union_result
GROUP BY 
    nama_mapel, nama, kelas
ORDER BY 
    kelas, urutangrup, nama_mapel, nama_rombel, nama
')
 4 APPPATH\Models\M_user.php(256): CodeIgniter\Database\BaseConnection->query('SELECT 
    GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
    nama_mapel, 
    nama, 
    kelas
FROM 
    (
        SELECT 
            nama_rombel, 
            nama_mapel, 
            nama, 
            tr.kelas AS kelas
        FROM 
            tb_rombel tr
        LEFT JOIN 
            tb_guru_mapel gm ON tr.id = gm.id_rombel
        LEFT JOIN 
            tb_mapel tm ON tm.id = gm.id_mapel
        LEFT JOIN 
            tb_guru_sekolah gs ON gs.id = gm.id_guru
        LEFT JOIN 
            tb_guru tg ON tg.nuptk = gs.nuptk
        WHERE 
            tr.id_sekolah = :id_sekolah: AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
        GROUP BY 
            nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
        
        
    ) AS union_result
GROUP BY 
    nama_mapel, nama, kelas
ORDER BY 
    kelas, urutangrup, nama_mapel, nama_rombel, nama
', [...])
 5 APPPATH\Controllers\Admin.php(1967): App\Models\M_user->get_daftar_guru_mapel('5d784c9e-f35a-4654-9851-b94d22be6f1e')
 6 SYSTEMPATH\CodeIgniter.php(932): App\Controllers\Admin->guru_mapel()
 7 SYSTEMPATH\CodeIgniter.php(497): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Admin))
 8 SYSTEMPATH\CodeIgniter.php(366): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 9 FCPATH\index.php(67): CodeIgniter\CodeIgniter->run()
10 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\laragon\\www\\sim\\public\\index.php')
INFO - 2023-11-23 14:50:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2023-11-23 14:52:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2023-11-23 14:53:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2023-11-23 14:54:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2023-11-23 14:55:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2023-11-23 14:57:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2023-11-23 14:59:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2023-11-23 14:59:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2023-11-23 15:00:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2023-11-23 15:02:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2023-11-23 15:03:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2023-11-23 15:03:59 --> mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ') AS union_result
GROUP BY 
    nama_mapel, nama, kelas
ORDER BY 
    kelas, uru' at line 45 in D:\laragon\www\sim\system\Database\MySQLi\Connection.php:295
Stack trace:
#0 D:\laragon\www\sim\system\Database\MySQLi\Connection.php(295): mysqli->query('SELECT \n    GRO...', 0)
#1 D:\laragon\www\sim\system\Database\BaseConnection.php(692): CodeIgniter\Database\MySQLi\Connection->execute('SELECT \n    GRO...')
#2 D:\laragon\www\sim\system\Database\BaseConnection.php(606): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT \n    GRO...')
#3 D:\laragon\www\sim\app\Models\M_user.php(272): CodeIgniter\Database\BaseConnection->query('SELECT \n    GRO...', Array)
#4 D:\laragon\www\sim\app\Controllers\Admin.php(1967): App\Models\M_user->get_daftar_guru_mapel('5d784c9e-f35a-4...')
#5 D:\laragon\www\sim\system\CodeIgniter.php(932): App\Controllers\Admin->guru_mapel()
#6 D:\laragon\www\sim\system\CodeIgniter.php(497): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Admin))
#7 D:\laragon\www\sim\system\CodeIgniter.php(366): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#8 D:\laragon\www\sim\public\index.php(67): CodeIgniter\CodeIgniter->run()
#9 D:\laragon\www\sim\system\Commands\Server\rewrite.php(47): require_once('D:\\laragon\\www\\...')
#10 {main}
CRITICAL - 2023-11-23 15:03:59 --> You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ') AS union_result
GROUP BY 
    nama_mapel, nama, kelas
ORDER BY 
    kelas, uru' at line 45
in SYSTEMPATH\Database\MySQLi\Connection.php on line 295.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(295): mysqli->query('SELECT 
    GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
    nama_mapel, 
    nama, 
    kelas,
            1 as urutangrup
        FROM 
            tb_rombel tr
        LEFT JOIN 
            tb_guru_mapel gm ON tr.id = gm.id_rombel
        LEFT JOIN 
            tb_mapel tm ON tm.id = gm.id_mapel
        LEFT JOIN 
            tb_guru_sekolah gs ON gs.id = gm.id_guru
        LEFT JOIN 
            tb_guru tg ON tg.nuptk = gs.nuptk
        WHERE 
            tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
        GROUP BY 
            nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
        
        UNION ALL
        
        SELECT 
            GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel,  
            (CASE 
                WHEN jenis_mapel=\'1\' THEN \'BK\' 
                WHEN jenis_mapel=\'2\' THEN \'P5\'
                ELSE NULL END) as nama_mapel, 
            nama, 
            tr.kelas,
            2 as urutangrup
        FROM 
            tb_rombel tr
        LEFT JOIN 
            tb_guru_lain gl ON tr.id = gl.id_rombel
        LEFT JOIN 
            tb_guru_sekolah gs ON gs.id = gl.id_guru
        LEFT JOIN 
            tb_guru tg ON tg.nuptk = gs.nuptk
        WHERE 
            tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
        GROUP BY 
            nama_rombel, nama, tr.kelas
    ) AS union_result
GROUP BY 
    nama_mapel, nama, kelas
ORDER BY 
    kelas, urutangrup, nama_mapel, nama_rombel, nama
', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(692): CodeIgniter\Database\MySQLi\Connection->execute('SELECT 
    GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
    nama_mapel, 
    nama, 
    kelas,
            1 as urutangrup
        FROM 
            tb_rombel tr
        LEFT JOIN 
            tb_guru_mapel gm ON tr.id = gm.id_rombel
        LEFT JOIN 
            tb_mapel tm ON tm.id = gm.id_mapel
        LEFT JOIN 
            tb_guru_sekolah gs ON gs.id = gm.id_guru
        LEFT JOIN 
            tb_guru tg ON tg.nuptk = gs.nuptk
        WHERE 
            tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
        GROUP BY 
            nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
        
        UNION ALL
        
        SELECT 
            GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel,  
            (CASE 
                WHEN jenis_mapel=\'1\' THEN \'BK\' 
                WHEN jenis_mapel=\'2\' THEN \'P5\'
                ELSE NULL END) as nama_mapel, 
            nama, 
            tr.kelas,
            2 as urutangrup
        FROM 
            tb_rombel tr
        LEFT JOIN 
            tb_guru_lain gl ON tr.id = gl.id_rombel
        LEFT JOIN 
            tb_guru_sekolah gs ON gs.id = gl.id_guru
        LEFT JOIN 
            tb_guru tg ON tg.nuptk = gs.nuptk
        WHERE 
            tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
        GROUP BY 
            nama_rombel, nama, tr.kelas
    ) AS union_result
GROUP BY 
    nama_mapel, nama, kelas
ORDER BY 
    kelas, urutangrup, nama_mapel, nama_rombel, nama
')
 3 SYSTEMPATH\Database\BaseConnection.php(606): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT 
    GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
    nama_mapel, 
    nama, 
    kelas,
            1 as urutangrup
        FROM 
            tb_rombel tr
        LEFT JOIN 
            tb_guru_mapel gm ON tr.id = gm.id_rombel
        LEFT JOIN 
            tb_mapel tm ON tm.id = gm.id_mapel
        LEFT JOIN 
            tb_guru_sekolah gs ON gs.id = gm.id_guru
        LEFT JOIN 
            tb_guru tg ON tg.nuptk = gs.nuptk
        WHERE 
            tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
        GROUP BY 
            nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
        
        UNION ALL
        
        SELECT 
            GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel,  
            (CASE 
                WHEN jenis_mapel=\'1\' THEN \'BK\' 
                WHEN jenis_mapel=\'2\' THEN \'P5\'
                ELSE NULL END) as nama_mapel, 
            nama, 
            tr.kelas,
            2 as urutangrup
        FROM 
            tb_rombel tr
        LEFT JOIN 
            tb_guru_lain gl ON tr.id = gl.id_rombel
        LEFT JOIN 
            tb_guru_sekolah gs ON gs.id = gl.id_guru
        LEFT JOIN 
            tb_guru tg ON tg.nuptk = gs.nuptk
        WHERE 
            tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
        GROUP BY 
            nama_rombel, nama, tr.kelas
    ) AS union_result
GROUP BY 
    nama_mapel, nama, kelas
ORDER BY 
    kelas, urutangrup, nama_mapel, nama_rombel, nama
')
 4 APPPATH\Models\M_user.php(272): CodeIgniter\Database\BaseConnection->query('SELECT 
    GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
    nama_mapel, 
    nama, 
    kelas,
            1 as urutangrup
        FROM 
            tb_rombel tr
        LEFT JOIN 
            tb_guru_mapel gm ON tr.id = gm.id_rombel
        LEFT JOIN 
            tb_mapel tm ON tm.id = gm.id_mapel
        LEFT JOIN 
            tb_guru_sekolah gs ON gs.id = gm.id_guru
        LEFT JOIN 
            tb_guru tg ON tg.nuptk = gs.nuptk
        WHERE 
            tr.id_sekolah = :id_sekolah: AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
        GROUP BY 
            nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
        
        UNION ALL
        
        SELECT 
            GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel,  
            (CASE 
                WHEN jenis_mapel=\'1\' THEN \'BK\' 
                WHEN jenis_mapel=\'2\' THEN \'P5\'
                ELSE NULL END) as nama_mapel, 
            nama, 
            tr.kelas,
            2 as urutangrup
        FROM 
            tb_rombel tr
        LEFT JOIN 
            tb_guru_lain gl ON tr.id = gl.id_rombel
        LEFT JOIN 
            tb_guru_sekolah gs ON gs.id = gl.id_guru
        LEFT JOIN 
            tb_guru tg ON tg.nuptk = gs.nuptk
        WHERE 
            tr.id_sekolah = :id_sekolah: AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
        GROUP BY 
            nama_rombel, nama, tr.kelas
    ) AS union_result
GROUP BY 
    nama_mapel, nama, kelas
ORDER BY 
    kelas, urutangrup, nama_mapel, nama_rombel, nama
', [...])
 5 APPPATH\Controllers\Admin.php(1967): App\Models\M_user->get_daftar_guru_mapel('5d784c9e-f35a-4654-9851-b94d22be6f1e')
 6 SYSTEMPATH\CodeIgniter.php(932): App\Controllers\Admin->guru_mapel()
 7 SYSTEMPATH\CodeIgniter.php(497): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Admin))
 8 SYSTEMPATH\CodeIgniter.php(366): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 9 FCPATH\index.php(67): CodeIgniter\CodeIgniter->run()
10 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\laragon\\www\\sim\\public\\index.php')
INFO - 2023-11-23 15:05:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2023-11-23 15:05:11 --> mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '1 as urutangrup
        FROM 
            tb_rombel tr
        LEFT JOIN 
      ' at line 6 in D:\laragon\www\sim\system\Database\MySQLi\Connection.php:295
Stack trace:
#0 D:\laragon\www\sim\system\Database\MySQLi\Connection.php(295): mysqli->query('SELECT \n    GRO...', 0)
#1 D:\laragon\www\sim\system\Database\BaseConnection.php(692): CodeIgniter\Database\MySQLi\Connection->execute('SELECT \n    GRO...')
#2 D:\laragon\www\sim\system\Database\BaseConnection.php(606): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT \n    GRO...')
#3 D:\laragon\www\sim\app\Models\M_user.php(272): CodeIgniter\Database\BaseConnection->query('SELECT \n    GRO...', Array)
#4 D:\laragon\www\sim\app\Controllers\Admin.php(1967): App\Models\M_user->get_daftar_guru_mapel('5d784c9e-f35a-4...')
#5 D:\laragon\www\sim\system\CodeIgniter.php(932): App\Controllers\Admin->guru_mapel()
#6 D:\laragon\www\sim\system\CodeIgniter.php(497): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Admin))
#7 D:\laragon\www\sim\system\CodeIgniter.php(366): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#8 D:\laragon\www\sim\public\index.php(67): CodeIgniter\CodeIgniter->run()
#9 D:\laragon\www\sim\system\Commands\Server\rewrite.php(47): require_once('D:\\laragon\\www\\...')
#10 {main}
CRITICAL - 2023-11-23 15:05:11 --> You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '1 as urutangrup
        FROM 
            tb_rombel tr
        LEFT JOIN 
      ' at line 6
in SYSTEMPATH\Database\MySQLi\Connection.php on line 295.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(295): mysqli->query('SELECT 
    GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
    nama_mapel, 
    nama, 
    tr.kelas as kelas
            1 as urutangrup
        FROM 
            tb_rombel tr
        LEFT JOIN 
            tb_guru_mapel gm ON tr.id = gm.id_rombel
        LEFT JOIN 
            tb_mapel tm ON tm.id = gm.id_mapel
        LEFT JOIN 
            tb_guru_sekolah gs ON gs.id = gm.id_guru
        LEFT JOIN 
            tb_guru tg ON tg.nuptk = gs.nuptk
        WHERE 
            tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
        GROUP BY 
            nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
        
        UNION ALL
        
        SELECT 
            GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel,  
            (CASE 
                WHEN jenis_mapel=\'1\' THEN \'BK\' 
                WHEN jenis_mapel=\'2\' THEN \'P5\'
                ELSE NULL END) as nama_mapel, 
            nama, 
            tr.kelas as kelas,
            2 as urutangrup
        FROM 
            tb_rombel tr
        LEFT JOIN 
            tb_guru_lain gl ON tr.id = gl.id_rombel
        LEFT JOIN 
            tb_guru_sekolah gs ON gs.id = gl.id_guru
        LEFT JOIN 
            tb_guru tg ON tg.nuptk = gs.nuptk
        WHERE 
            tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
        GROUP BY 
            nama_rombel, nama, tr.kelas
    ) AS union_result
GROUP BY 
    nama_mapel, nama, kelas
ORDER BY 
    kelas, urutangrup, nama_mapel, nama_rombel, nama
', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(692): CodeIgniter\Database\MySQLi\Connection->execute('SELECT 
    GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
    nama_mapel, 
    nama, 
    tr.kelas as kelas
            1 as urutangrup
        FROM 
            tb_rombel tr
        LEFT JOIN 
            tb_guru_mapel gm ON tr.id = gm.id_rombel
        LEFT JOIN 
            tb_mapel tm ON tm.id = gm.id_mapel
        LEFT JOIN 
            tb_guru_sekolah gs ON gs.id = gm.id_guru
        LEFT JOIN 
            tb_guru tg ON tg.nuptk = gs.nuptk
        WHERE 
            tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
        GROUP BY 
            nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
        
        UNION ALL
        
        SELECT 
            GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel,  
            (CASE 
                WHEN jenis_mapel=\'1\' THEN \'BK\' 
                WHEN jenis_mapel=\'2\' THEN \'P5\'
                ELSE NULL END) as nama_mapel, 
            nama, 
            tr.kelas as kelas,
            2 as urutangrup
        FROM 
            tb_rombel tr
        LEFT JOIN 
            tb_guru_lain gl ON tr.id = gl.id_rombel
        LEFT JOIN 
            tb_guru_sekolah gs ON gs.id = gl.id_guru
        LEFT JOIN 
            tb_guru tg ON tg.nuptk = gs.nuptk
        WHERE 
            tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
        GROUP BY 
            nama_rombel, nama, tr.kelas
    ) AS union_result
GROUP BY 
    nama_mapel, nama, kelas
ORDER BY 
    kelas, urutangrup, nama_mapel, nama_rombel, nama
')
 3 SYSTEMPATH\Database\BaseConnection.php(606): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT 
    GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
    nama_mapel, 
    nama, 
    tr.kelas as kelas
            1 as urutangrup
        FROM 
            tb_rombel tr
        LEFT JOIN 
            tb_guru_mapel gm ON tr.id = gm.id_rombel
        LEFT JOIN 
            tb_mapel tm ON tm.id = gm.id_mapel
        LEFT JOIN 
            tb_guru_sekolah gs ON gs.id = gm.id_guru
        LEFT JOIN 
            tb_guru tg ON tg.nuptk = gs.nuptk
        WHERE 
            tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
        GROUP BY 
            nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
        
        UNION ALL
        
        SELECT 
            GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel,  
            (CASE 
                WHEN jenis_mapel=\'1\' THEN \'BK\' 
                WHEN jenis_mapel=\'2\' THEN \'P5\'
                ELSE NULL END) as nama_mapel, 
            nama, 
            tr.kelas as kelas,
            2 as urutangrup
        FROM 
            tb_rombel tr
        LEFT JOIN 
            tb_guru_lain gl ON tr.id = gl.id_rombel
        LEFT JOIN 
            tb_guru_sekolah gs ON gs.id = gl.id_guru
        LEFT JOIN 
            tb_guru tg ON tg.nuptk = gs.nuptk
        WHERE 
            tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
        GROUP BY 
            nama_rombel, nama, tr.kelas
    ) AS union_result
GROUP BY 
    nama_mapel, nama, kelas
ORDER BY 
    kelas, urutangrup, nama_mapel, nama_rombel, nama
')
 4 APPPATH\Models\M_user.php(272): CodeIgniter\Database\BaseConnection->query('SELECT 
    GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
    nama_mapel, 
    nama, 
    tr.kelas as kelas
            1 as urutangrup
        FROM 
            tb_rombel tr
        LEFT JOIN 
            tb_guru_mapel gm ON tr.id = gm.id_rombel
        LEFT JOIN 
            tb_mapel tm ON tm.id = gm.id_mapel
        LEFT JOIN 
            tb_guru_sekolah gs ON gs.id = gm.id_guru
        LEFT JOIN 
            tb_guru tg ON tg.nuptk = gs.nuptk
        WHERE 
            tr.id_sekolah = :id_sekolah: AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
        GROUP BY 
            nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
        
        UNION ALL
        
        SELECT 
            GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel,  
            (CASE 
                WHEN jenis_mapel=\'1\' THEN \'BK\' 
                WHEN jenis_mapel=\'2\' THEN \'P5\'
                ELSE NULL END) as nama_mapel, 
            nama, 
            tr.kelas as kelas,
            2 as urutangrup
        FROM 
            tb_rombel tr
        LEFT JOIN 
            tb_guru_lain gl ON tr.id = gl.id_rombel
        LEFT JOIN 
            tb_guru_sekolah gs ON gs.id = gl.id_guru
        LEFT JOIN 
            tb_guru tg ON tg.nuptk = gs.nuptk
        WHERE 
            tr.id_sekolah = :id_sekolah: AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
        GROUP BY 
            nama_rombel, nama, tr.kelas
    ) AS union_result
GROUP BY 
    nama_mapel, nama, kelas
ORDER BY 
    kelas, urutangrup, nama_mapel, nama_rombel, nama
', [...])
 5 APPPATH\Controllers\Admin.php(1967): App\Models\M_user->get_daftar_guru_mapel('5d784c9e-f35a-4654-9851-b94d22be6f1e')
 6 SYSTEMPATH\CodeIgniter.php(932): App\Controllers\Admin->guru_mapel()
 7 SYSTEMPATH\CodeIgniter.php(497): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Admin))
 8 SYSTEMPATH\CodeIgniter.php(366): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 9 FCPATH\index.php(67): CodeIgniter\CodeIgniter->run()
10 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\laragon\\www\\sim\\public\\index.php')
INFO - 2023-11-23 15:05:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2023-11-23 15:05:31 --> mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ') AS union_result
GROUP BY 
    nama_mapel, nama, kelas
ORDER BY 
    kelas, uru' at line 45 in D:\laragon\www\sim\system\Database\MySQLi\Connection.php:295
Stack trace:
#0 D:\laragon\www\sim\system\Database\MySQLi\Connection.php(295): mysqli->query('SELECT \n    GRO...', 0)
#1 D:\laragon\www\sim\system\Database\BaseConnection.php(692): CodeIgniter\Database\MySQLi\Connection->execute('SELECT \n    GRO...')
#2 D:\laragon\www\sim\system\Database\BaseConnection.php(606): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT \n    GRO...')
#3 D:\laragon\www\sim\app\Models\M_user.php(272): CodeIgniter\Database\BaseConnection->query('SELECT \n    GRO...', Array)
#4 D:\laragon\www\sim\app\Controllers\Admin.php(1967): App\Models\M_user->get_daftar_guru_mapel('5d784c9e-f35a-4...')
#5 D:\laragon\www\sim\system\CodeIgniter.php(932): App\Controllers\Admin->guru_mapel()
#6 D:\laragon\www\sim\system\CodeIgniter.php(497): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Admin))
#7 D:\laragon\www\sim\system\CodeIgniter.php(366): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#8 D:\laragon\www\sim\public\index.php(67): CodeIgniter\CodeIgniter->run()
#9 D:\laragon\www\sim\system\Commands\Server\rewrite.php(47): require_once('D:\\laragon\\www\\...')
#10 {main}
CRITICAL - 2023-11-23 15:05:31 --> You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ') AS union_result
GROUP BY 
    nama_mapel, nama, kelas
ORDER BY 
    kelas, uru' at line 45
in SYSTEMPATH\Database\MySQLi\Connection.php on line 295.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(295): mysqli->query('SELECT 
    GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
    nama_mapel, 
    nama, 
    tr.kelas as kelas,
            1 as urutangrup
        FROM 
            tb_rombel tr
        LEFT JOIN 
            tb_guru_mapel gm ON tr.id = gm.id_rombel
        LEFT JOIN 
            tb_mapel tm ON tm.id = gm.id_mapel
        LEFT JOIN 
            tb_guru_sekolah gs ON gs.id = gm.id_guru
        LEFT JOIN 
            tb_guru tg ON tg.nuptk = gs.nuptk
        WHERE 
            tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
        GROUP BY 
            nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
        
        UNION ALL
        
        SELECT 
            GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel,  
            (CASE 
                WHEN jenis_mapel=\'1\' THEN \'BK\' 
                WHEN jenis_mapel=\'2\' THEN \'P5\'
                ELSE NULL END) as nama_mapel, 
            nama, 
            tr.kelas as kelas,
            2 as urutangrup
        FROM 
            tb_rombel tr
        LEFT JOIN 
            tb_guru_lain gl ON tr.id = gl.id_rombel
        LEFT JOIN 
            tb_guru_sekolah gs ON gs.id = gl.id_guru
        LEFT JOIN 
            tb_guru tg ON tg.nuptk = gs.nuptk
        WHERE 
            tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
        GROUP BY 
            nama_rombel, nama, tr.kelas
    ) AS union_result
GROUP BY 
    nama_mapel, nama, kelas
ORDER BY 
    kelas, urutangrup, nama_mapel, nama_rombel, nama
', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(692): CodeIgniter\Database\MySQLi\Connection->execute('SELECT 
    GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
    nama_mapel, 
    nama, 
    tr.kelas as kelas,
            1 as urutangrup
        FROM 
            tb_rombel tr
        LEFT JOIN 
            tb_guru_mapel gm ON tr.id = gm.id_rombel
        LEFT JOIN 
            tb_mapel tm ON tm.id = gm.id_mapel
        LEFT JOIN 
            tb_guru_sekolah gs ON gs.id = gm.id_guru
        LEFT JOIN 
            tb_guru tg ON tg.nuptk = gs.nuptk
        WHERE 
            tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
        GROUP BY 
            nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
        
        UNION ALL
        
        SELECT 
            GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel,  
            (CASE 
                WHEN jenis_mapel=\'1\' THEN \'BK\' 
                WHEN jenis_mapel=\'2\' THEN \'P5\'
                ELSE NULL END) as nama_mapel, 
            nama, 
            tr.kelas as kelas,
            2 as urutangrup
        FROM 
            tb_rombel tr
        LEFT JOIN 
            tb_guru_lain gl ON tr.id = gl.id_rombel
        LEFT JOIN 
            tb_guru_sekolah gs ON gs.id = gl.id_guru
        LEFT JOIN 
            tb_guru tg ON tg.nuptk = gs.nuptk
        WHERE 
            tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
        GROUP BY 
            nama_rombel, nama, tr.kelas
    ) AS union_result
GROUP BY 
    nama_mapel, nama, kelas
ORDER BY 
    kelas, urutangrup, nama_mapel, nama_rombel, nama
')
 3 SYSTEMPATH\Database\BaseConnection.php(606): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT 
    GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
    nama_mapel, 
    nama, 
    tr.kelas as kelas,
            1 as urutangrup
        FROM 
            tb_rombel tr
        LEFT JOIN 
            tb_guru_mapel gm ON tr.id = gm.id_rombel
        LEFT JOIN 
            tb_mapel tm ON tm.id = gm.id_mapel
        LEFT JOIN 
            tb_guru_sekolah gs ON gs.id = gm.id_guru
        LEFT JOIN 
            tb_guru tg ON tg.nuptk = gs.nuptk
        WHERE 
            tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
        GROUP BY 
            nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
        
        UNION ALL
        
        SELECT 
            GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel,  
            (CASE 
                WHEN jenis_mapel=\'1\' THEN \'BK\' 
                WHEN jenis_mapel=\'2\' THEN \'P5\'
                ELSE NULL END) as nama_mapel, 
            nama, 
            tr.kelas as kelas,
            2 as urutangrup
        FROM 
            tb_rombel tr
        LEFT JOIN 
            tb_guru_lain gl ON tr.id = gl.id_rombel
        LEFT JOIN 
            tb_guru_sekolah gs ON gs.id = gl.id_guru
        LEFT JOIN 
            tb_guru tg ON tg.nuptk = gs.nuptk
        WHERE 
            tr.id_sekolah = \'5d784c9e-f35a-4654-9851-b94d22be6f1e\' AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
        GROUP BY 
            nama_rombel, nama, tr.kelas
    ) AS union_result
GROUP BY 
    nama_mapel, nama, kelas
ORDER BY 
    kelas, urutangrup, nama_mapel, nama_rombel, nama
')
 4 APPPATH\Models\M_user.php(272): CodeIgniter\Database\BaseConnection->query('SELECT 
    GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel, 
    nama_mapel, 
    nama, 
    tr.kelas as kelas,
            1 as urutangrup
        FROM 
            tb_rombel tr
        LEFT JOIN 
            tb_guru_mapel gm ON tr.id = gm.id_rombel
        LEFT JOIN 
            tb_mapel tm ON tm.id = gm.id_mapel
        LEFT JOIN 
            tb_guru_sekolah gs ON gs.id = gm.id_guru
        LEFT JOIN 
            tb_guru tg ON tg.nuptk = gs.nuptk
        WHERE 
            tr.id_sekolah = :id_sekolah: AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
        GROUP BY 
            nama_mapel, nama, tr.kelas, tm.jenis, tm.sub_kelas
        
        UNION ALL
        
        SELECT 
            GROUP_CONCAT(nama_rombel ORDER BY nama_rombel ASC SEPARATOR \', \') AS nama_rombel,  
            (CASE 
                WHEN jenis_mapel=\'1\' THEN \'BK\' 
                WHEN jenis_mapel=\'2\' THEN \'P5\'
                ELSE NULL END) as nama_mapel, 
            nama, 
            tr.kelas as kelas,
            2 as urutangrup
        FROM 
            tb_rombel tr
        LEFT JOIN 
            tb_guru_lain gl ON tr.id = gl.id_rombel
        LEFT JOIN 
            tb_guru_sekolah gs ON gs.id = gl.id_guru
        LEFT JOIN 
            tb_guru tg ON tg.nuptk = gs.nuptk
        WHERE 
            tr.id_sekolah = :id_sekolah: AND tahun_mulai = (SELECT MAX(tahun_mulai) FROM tb_rombel) 
        GROUP BY 
            nama_rombel, nama, tr.kelas
    ) AS union_result
GROUP BY 
    nama_mapel, nama, kelas
ORDER BY 
    kelas, urutangrup, nama_mapel, nama_rombel, nama
', [...])
 5 APPPATH\Controllers\Admin.php(1967): App\Models\M_user->get_daftar_guru_mapel('5d784c9e-f35a-4654-9851-b94d22be6f1e')
 6 SYSTEMPATH\CodeIgniter.php(932): App\Controllers\Admin->guru_mapel()
 7 SYSTEMPATH\CodeIgniter.php(497): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Admin))
 8 SYSTEMPATH\CodeIgniter.php(366): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 9 FCPATH\index.php(67): CodeIgniter\CodeIgniter->run()
10 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\laragon\\www\\sim\\public\\index.php')
INFO - 2023-11-23 15:06:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2023-11-23 21:34:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2023-11-23 21:34:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2023-11-23 21:34:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2023-11-23 21:34:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2023-11-23 21:34:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2023-11-23 21:34:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2023-11-23 21:35:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2023-11-23 21:35:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2023-11-23 21:35:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2023-11-23 21:35:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2023-11-23 21:35:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2023-11-23 21:35:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2023-11-23 21:35:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2023-11-23 21:35:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2023-11-23 21:35:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2023-11-23 21:38:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2023-11-23 21:39:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2023-11-23 21:39:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
